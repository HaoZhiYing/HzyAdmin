var _=Object.defineProperty,b=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var h=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var f=(e,s,r)=>s in e?_(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,u=(e,s)=>{for(var r in s||(s={}))h.call(s,r)&&f(e,r,s[r]);if(w)for(var r of w(s))y.call(s,r)&&f(e,r,s[r]);return e},v=(e,s)=>b(e,q(s));import{_ as C,t as g}from"./index-f2a5d0fa.js";import{s as k}from"./personal_center_service-e5231af4.js";import{d as F,r as $,h as R,t as U,i as d,o as B,c as N,j as a,l as o,q as c}from"./vendor-73d99709.js";const V=F({name:"system_change_password",setup(){const e=$(),s=R({vm:{oldPassword:"",newPassword:"",qrPassword:""}}),r={oldPassword:[{required:!0,message:"\u8BF7\u8F93\u5165\u65E7\u5BC6\u7801",trigger:"blur"},{min:3,max:20,message:"\u957F\u5EA6\u5728 3 \u81F3 20 \u4E4B\u95F4",trigger:"blur"}],newPassword:[{required:!0,message:"\u8BF7\u8F93\u5165\u65B0\u5BC6\u7801",trigger:"blur"},{min:3,max:20,message:"\u957F\u5EA6\u5728 3 \u81F3 20 \u4E4B\u95F4",trigger:"blur"}],qrPassword:[{required:!0,message:"\u8BF7\u8F93\u5165\u786E\u8BA4\u65B0\u5BC6\u7801",trigger:"blur"},{min:3,max:20,message:"\u957F\u5EA6\u5728 3 \u81F3 20 \u4E4B\u95F4",trigger:"blur"}]},i={saveForm(){e.value.validate().then(()=>{if(s.vm.newPassword!=s.vm.qrPassword)return g.message("\u4E24\u6B21\u5BC6\u7801\u4E0D\u4E00\u81F4!","\u8B66\u544A");k.changePassword(s.vm).then(l=>{l.code==1&&g.message("\u64CD\u4F5C\u6210\u529F!","\u6210\u529F")})}).catch(l=>{console.log("error",l)})},resetForm(){e.value.resetFields()}};return v(u(u({},U(s)),i),{rules:r,formRef:e})}}),j=c("\u63D0\u4EA4"),T=c("\u91CD\u7F6E");function z(e,s,r,i,l,A){const m=d("a-input"),n=d("a-form-item"),p=d("a-button"),P=d("a-form");return B(),N(P,{ref:"formRef",model:e.vm,rules:e.rules,layout:"vertical"},{default:a(()=>[o(n,{label:"\u65E7\u5BC6\u7801",name:"oldPassword"},{default:a(()=>[o(m,{value:e.vm.oldPassword,"onUpdate:value":s[0]||(s[0]=t=>e.vm.oldPassword=t),type:"password",placeholder:"\u65E7\u5BC6\u7801"},null,8,["value"])]),_:1}),o(n,{label:"\u65B0\u5BC6\u7801",name:"newPassword"},{default:a(()=>[o(m,{value:e.vm.newPassword,"onUpdate:value":s[1]||(s[1]=t=>e.vm.newPassword=t),type:"password",placeholder:"\u65B0\u5BC6\u7801"},null,8,["value"])]),_:1}),o(n,{label:"\u786E\u8BA4\u65B0\u5BC6\u7801",name:"qrPassword"},{default:a(()=>[o(m,{value:e.vm.qrPassword,"onUpdate:value":s[2]||(s[2]=t=>e.vm.qrPassword=t),type:"password",placeholder:"\u786E\u8BA4\u65B0\u5BC6\u7801"},null,8,["value"])]),_:1}),o(n,{"wrapper-col":{span:14}},{default:a(()=>[o(p,{type:"primary",onClick:e.saveForm},{default:a(()=>[j]),_:1},8,["onClick"]),o(p,{style:{"margin-left":"10px"},onClick:e.resetForm},{default:a(()=>[T]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model","rules"])}var I=C(V,[["render",z]]);export{I as default};
