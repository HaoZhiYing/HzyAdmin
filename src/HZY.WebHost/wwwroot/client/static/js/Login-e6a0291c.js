var C=Object.defineProperty,N=Object.defineProperties;var I=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var g=(e,o,t)=>o in e?C(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,d=(e,o)=>{for(var t in o||(o={}))P.call(o,t)&&g(e,t,o[t]);if(v)for(var t of v(o))b.call(o,t)&&g(e,t,o[t]);return e},h=(e,o)=>N(e,I(o));import{d as A,s as L,e as y,t as $,u as B,f as n,v as x,x as u,y as s,m as a,Z as K,_ as U,q as V,C as O,$ as q,B as D}from"./vendor-d5c27e5b.js";import{t as r,p as E,_ as M,A as R,u as T,a as Z,r as j}from"./index-54f9c979.js";var F={login(e,o){return e?o?E("account/check",{userName:e,userPassword:o}):r.message("\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A!","\u8B66\u544A"):r.message("\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A!","\u8B66\u544A")}};const G=A({name:"LoginCom",components:{AppIcon:R},setup(){const e=L({userName:"admin",userPassword:"123456"}),o=y(null),t=y(!1),_=T(),f=Z(),m=_.state.title,l={check(){if(!e.userName)return r.message("\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A!","\u8B66\u544A");if(!e.userPassword)return r.message("\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A!","\u8B66\u544A");t.value=!0,F.login(e.userName,e.userPassword).then(i=>{t.value=!1,i.code===1&&(r.setAuthorization(i.data.token),j.push("/"))}).catch(()=>{t.value=!1})},reset(){r.delAuthorization(),f.resetInfo()}};return $(()=>{l.reset(),o.value.focus(),console.log("reset")}),h(d(d({},B(e)),l),{title:m,inputPassword:o,loading:t})}}),H=e=>(K("data-v-4e7e25bc"),e=e(),U(),e),J={id:"login"},Q=H(()=>u("div",{class:"login-modal"},null,-1)),W={class:"login-container"},X={class:"login-title"},Y={class:"p-24"},ee=D("\u767B\u5F55");function oe(e,o,t,_,f,m){const l=n("app-icons"),i=n("a-input"),c=n("a-form-item"),w=n("a-input-password"),k=n("a-button"),S=n("a-form"),z=n("a-card");return V(),x("div",J,[Q,u("div",W,[s(z,null,{default:a(()=>[u("div",X,O(e.title),1),u("div",Y,[s(S,{layout:"vertical"},{default:a(()=>[s(c,null,{default:a(()=>[s(i,{value:e.userName,"onUpdate:value":o[0]||(o[0]=p=>e.userName=p),placeholder:"\u8BF7\u8F93\u5165",size:"large","allow-clear":""},{prefix:a(()=>[s(l,{"icon-name":"UserOutlined",style:{color:"#1890ff","font-size":"14px"}})]),_:1},8,["value"])]),_:1}),s(c,null,{default:a(()=>[s(w,{type:"password",value:e.userPassword,"onUpdate:value":o[1]||(o[1]=p=>e.userPassword=p),size:"large",ref:"inputPassword",onKeyup:q(e.check,["enter"])},{prefix:a(()=>[s(l,{"icon-name":"LockOutlined",style:{color:"#1890ff","font-size":"14px"}})]),_:1},8,["value","onKeyup"])]),_:1}),s(c,null,{default:a(()=>[s(k,{type:"primary",onClick:e.check,loading:e.loading,size:"large",block:""},{default:a(()=>[ee]),_:1},8,["onClick","loading"])]),_:1})]),_:1})])]),_:1})])])}var ne=M(G,[["render",oe],["__scopeId","data-v-4e7e25bc"]]);export{ne as default};
