import{_ as U}from"./PageContainer.vue_vue_type_script_setup_true_lang-7c0f1843.js";import{T as C}from"./TimedTaskService-d08ec4f5.js";import{d as b,E as p,s as j,a3 as M,r as u,o as d,e as F,w as o,a as n,j as f,c as w,k as $,f as e,t as r,m as x,F as q,p as G,V as O,W as P}from"./index-87b89bfd.js";import{_ as W}from"./Info.vue_vue_type_script_setup_true_lang-1bf29f8f.js";import{_ as z}from"./LogInfo.vue_vue_type_script_setup_true_lang-eb7066de.js";import{_ as H}from"./_plugin-vue_export-helper-c4cb8a60.js";import"./AppIcon.vue_vue_type_script_setup_true_lang-224083f4.js";import"./GenerateCron.vue_vue_type_script_setup_true_lang-c5261039.js";import"./Index-395ca189.js";const i=h=>(O("data-v-b786763b"),h=h(),P(),h),J={class:"task"},K={class:"task-item"},Q={class:"title",style:{color:"initial"}},R={class:"value"},X={class:"task-item"},Y=i(()=>e("div",{class:"title"},"\u8BF7\u6C42\u65B9\u5F0F",-1)),Z={class:"value"},ee={class:"task-item"},te=i(()=>e("div",{class:"title"},"\u95F4\u9694\u8868\u8FBE\u5F0F",-1)),se={class:"value"},ae={class:"task-item"},oe=i(()=>e("div",{class:"title"},"\u6267\u884C\u65F6\u95F4",-1)),ne={class:"value"},ce={class:"task-item"},ue=i(()=>e("div",{class:"title"},"\u8FD0\u884C\u72B6\u6001",-1)),le={class:"value"},ie={class:"task-item"},de=i(()=>e("div",{class:"title"},"\u5907\u6CE8",-1)),re={class:"value"},_e={class:"task-item"},ve=i(()=>e("div",{class:"title"},null,-1)),pe={class:"value"},fe=["onClick"],he=["onClick"],me=i(()=>e("a",{href:"javascript:;",class:"text-danger"},"\u5220\u9664",-1)),ke=b({name:"system_user"}),Ce=b({...ke,setup(h){const y=p(""),c=p(!1),m=p([]);let E;const g=p(),I=p();j(()=>{k(),E=setInterval(()=>{k()},30*1e3)}),M(()=>{clearInterval(E)});async function k(){c.value=!0;const l=await C.findList(y.value);c.value=!1,l.code==1&&(m.value=l.data)}async function L(l){c.value=!0;const s=await C.deleteList([l]);c.value=!1,s.code==1&&G.message.success("\u5220\u9664\u6210\u529F!")}async function S(l,s){if(l==1){c.value=!0;const _=await C.run([s]);if(c.value=!1,_.code!=1){m.value.find(v=>v.id==s).state=0;return}}else{c.value=!0;const _=await C.close([s]);if(c.value=!1,_.code!=1){m.value.find(v=>v.id==s).state=0;return}}}return(l,s)=>{const _=u("a-input-search"),v=u("a-button"),B=u("a-tag"),V=u("a-switch"),T=u("a-divider"),D=u("a-popconfirm"),A=u("a-spin"),N=u("a-card");return d(),F(U,null,{default:o(()=>[n(N,{bordered:!1},{title:o(()=>[n(_,{value:y.value,"onUpdate:value":s[0]||(s[0]=t=>y.value=t),placeholder:"\u8BF7\u8F93\u5165",style:{width:"200px"},onSearch:s[1]||(s[1]=()=>k())},null,8,["value"])]),extra:o(()=>[n(v,{type:"primary",onClick:s[2]||(s[2]=()=>{var t;return(t=g.value)==null?void 0:t.open()})},{default:o(()=>[f("\u65B0\u5EFA\u4EFB\u52A1")]),_:1})]),default:o(()=>[n(A,{spinning:c.value},{default:o(()=>[(d(!0),w(q,null,$(m.value,t=>(d(),w("div",J,[e("div",K,[e("div",Q,[f(r(t.name)+" ",1),e("span",null,r(t.groupName),1)]),e("div",R,r(t.apiUrl),1)]),e("div",X,[Y,e("div",Z,[t.requsetMode==0?(d(),F(B,{key:0,color:"#87d068"},{default:o(()=>[f("POST")]),_:1})):x("",!0),t.requsetMode==1?(d(),F(B,{key:1,color:"#87d068"},{default:o(()=>[f("GET")]),_:1})):x("",!0),t.requsetMode==2?(d(),F(B,{key:2,color:"#87d068"},{default:o(()=>[f("DELETE")]),_:1})):x("",!0)])]),e("div",ee,[te,e("div",se,r(t.cron),1)]),e("div",ae,[oe,e("div",ne,r(t.executeTime),1)]),e("div",ce,[ue,e("div",le,[n(V,{checked:t.state,"onUpdate:checked":a=>t.state=a,"checked-children":"\u8FD0\u884C","un-checked-children":"\u505C\u6B62",checkedValue:1,unCheckedValue:0,onChange:a=>S(a,t.id)},null,8,["checked","onUpdate:checked","onChange"])])]),e("div",ie,[de,e("div",re,r(t.remark),1)]),e("div",_e,[ve,e("div",pe,[e("a",{href:"javascript:;",onClick:()=>{var a;return(a=g.value)==null?void 0:a.open(t.id)}},"\u7F16\u8F91",8,fe),n(T,{type:"vertical"}),e("a",{href:"javascript:;",onClick:()=>{var a;return(a=I.value)==null?void 0:a.open(t.id)}},"\u65E5\u5FD7",8,he),n(T,{type:"vertical"}),n(D,{title:"\u60A8\u786E\u5B9A\u8981\u5220\u9664?",onConfirm:a=>L(t.id),okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88"},{default:o(()=>[me]),_:2},1032,["onConfirm"])])])]))),256))]),_:1},8,["spinning"])]),_:1}),n(W,{ref_key:"refInfo",ref:g,onSuccess:()=>k()},null,8,["onSuccess"]),n(z,{ref_key:"refLogInfo",ref:I},null,512)]),_:1})}}});const be=H(Ce,[["__scopeId","data-v-b786763b"]]);export{be as default};
