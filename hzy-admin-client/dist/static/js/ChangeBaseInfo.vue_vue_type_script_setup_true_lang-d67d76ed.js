import{d as _,A as B,b as D,E as b,z as C,r as l,o as x,e as E,w as u,u as N,a as e,j as h,p as A}from"./index-87b89bfd.js";import{P as w}from"./PersonalCenterService-af5a56dd.js";const U=_({name:"change_base_info"}),I=_({...U,setup(k){const i=B(),m=D(()=>i.state.userInfo),v=b(),o=C({vm:{name:m.value.name,loginName:m.value.loginName,phone:m.value.phone,email:m.value.email}}),d={name:[{required:!0,message:"\u8BF7\u8F93\u5165\u771F\u5B9E\u59D3\u540D",trigger:"blur"}],loginName:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u6237\u540D\u79F0",trigger:"blur"}],phone:[{required:!0,message:"\u8BF7\u8F93\u5165\u8054\u7CFB\u7535\u8BDD",trigger:"blur"}],email:[{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u7BB1",trigger:"blur"}]};function f(){var p;(p=v.value)==null||p.validate().then(()=>{w.saveForm(o.vm).then(a=>{a.code==1&&i.refreshUserInfo().then(()=>{A.message.success("\u64CD\u4F5C\u6210\u529F!")})})})}return(p,a)=>{const s=l("a-input"),n=l("a-form-item"),r=l("a-col"),c=l("a-button"),F=l("a-row"),g=l("a-form");return x(),E(g,{layout:"vertical",ref_key:"refForm",ref:v,model:o.vm,rules:N(d)},{default:u(()=>[e(F,{gutter:[16,0]},{default:u(()=>[e(r,{xs:24},{default:u(()=>[e(n,{label:"\u771F\u5B9E\u59D3\u540D",name:"name"},{default:u(()=>[e(s,{value:o.vm.name,"onUpdate:value":a[0]||(a[0]=t=>o.vm.name=t),placeholder:"\u771F\u5B9E\u59D3\u540D"},null,8,["value"])]),_:1})]),_:1}),e(r,{xs:24},{default:u(()=>[e(n,{label:"\u8D26\u6237\u540D\u79F0",name:"loginName"},{default:u(()=>[e(s,{value:o.vm.loginName,"onUpdate:value":a[1]||(a[1]=t=>o.vm.loginName=t),placeholder:"\u8D26\u6237\u540D\u79F0"},null,8,["value"])]),_:1})]),_:1}),e(r,{xs:24},{default:u(()=>[e(n,{label:"\u8054\u7CFB\u7535\u8BDD",name:"phone"},{default:u(()=>[e(s,{value:o.vm.phone,"onUpdate:value":a[2]||(a[2]=t=>o.vm.phone=t),placeholder:"\u8054\u7CFB\u7535\u8BDD"},null,8,["value"])]),_:1})]),_:1}),e(r,{xs:24},{default:u(()=>[e(n,{label:"\u90AE\u7BB1",name:"email"},{default:u(()=>[e(s,{value:o.vm.email,"onUpdate:value":a[3]||(a[3]=t=>o.vm.email=t),placeholder:"\u90AE\u7BB1"},null,8,["value"])]),_:1})]),_:1}),e(r,{xs:24},{default:u(()=>[e(n,{"wrapper-col":{span:14}},{default:u(()=>[e(c,{type:"primary",onClick:a[4]||(a[4]=t=>f())},{default:u(()=>[h("\u63D0\u4EA4")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])}}});export{I as _};
