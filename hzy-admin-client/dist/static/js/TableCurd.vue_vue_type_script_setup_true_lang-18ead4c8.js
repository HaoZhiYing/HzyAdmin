import{d as D,b as y,E as S,r as l,o as O,c as I,B as L,C as V,u as s,a as t,w as a,Y as c,j as h,a4 as v,Z as A}from"./index-1050b563.js";import{_ as P}from"./AppIcon.vue_vue_type_script_setup_true_lang-abdd4a65.js";const Q=D({__name:"TableCurd",props:{config:null,isPagination:{type:Boolean,default:!0},expandedRowKeys:null},emits:["change","showSizeChange","update:expandedRowKeys"],setup(x,{expose:b,emit:_}){const f=x,d=y(()=>f.config),R=S(["10","15","20","100","1000"]),p=S("middle"),n=S([]),w=y({get:()=>f.expandedRowKeys,set:e=>_("update:expandedRowKeys",e)});b({getSelectedRowKeys(){return n.value},setSelectedRowKeys(e){n.value=[],n.value.push(...e)},setSelectedRowKey(e){n.value.findIndex(r=>r==e)>-1||n.value.push(e)},clearSelectedRowKeys(){n.value=[]}});const K=({page:e,pageSize:o})=>{_("change",{page:e,pageSize:o})},z=({current:e,size:o})=>{_("showSizeChange",{current:e,size:o})},E=y(()=>({selectedRowKeys:s(n),onChange:e=>{n.value=e},hideDefaultSelections:!0,selections:[v.SELECTION_ALL,v.SELECTION_INVERT,v.SELECTION_NONE,{key:"odd",text:"\u9009\u62E9\u5947\u6570\u884C",onSelect:e=>{let o=[];o=e.filter((r,i)=>i%2===0),n.value=o}},{key:"even",text:"\u9009\u62E9\u5076\u6570\u884C",onSelect:e=>{let o=[];o=e.filter((r,i)=>i%2!==0),n.value=o}}]}));return(e,o)=>{const r=l("a-card"),i=l("a-space"),C=l("a-col"),k=l("a-button"),m=l("a-menu-item"),T=l("a-menu"),N=l("a-dropdown"),$=l("a-row"),B=l("a-table");return O(),I("div",null,[L(t(r,{class:"mb-16",bordered:!1},{default:a(()=>[c(e.$slots,"search")]),_:3},512),[[V,s(d).search.state]]),t(r,{bodyStyle:{paddingTop:0},bordered:!1},{default:a(()=>[t($,{class:"pt-16 pb-16"},{default:a(()=>[t(C,{xs:24,sm:24,md:12,lg:12,xl:12},{default:a(()=>[t(i,{size:8},{default:a(()=>[c(e.$slots,"toolbar-left")]),_:3})]),_:3}),t(C,{xs:24,sm:24,md:12,lg:12,xl:12,class:"text-right"},{default:a(()=>[t(i,{size:8},{default:a(()=>[c(e.$slots,"toolbar-right"),t(N,null,{overlay:a(()=>[t(T,null,{default:a(()=>[t(m,{onClick:o[0]||(o[0]=()=>p.value=void 0)},{default:a(()=>[h(" \u9ED8\u8BA4 ")]),_:1}),t(m,{onClick:o[1]||(o[1]=()=>p.value="middle")},{default:a(()=>[h(" \u4E2D\u7B49 ")]),_:1}),t(m,{onClick:o[2]||(o[2]=()=>p.value="small")},{default:a(()=>[h(" \u7D27\u51D1 ")]),_:1})]),_:1})]),default:a(()=>[t(k,{type:"text"},{icon:a(()=>[t(P,{name:"column-height-outlined"})]),_:1})]),_:1})]),_:3})]),_:3})]),_:3}),c(e.$slots,"table",{},()=>[t(B,{size:p.value,"row-selection":s(E),"data-source":s(d).data,pagination:f.isPagination?{pageSize:s(d).size,total:s(d).total,current:s(d).page,pageSizeOptions:R.value,showSizeChanger:!0,onChange:(u,g)=>K({page:u,pageSize:g}),onShowSizeChange:(u,g)=>z({current:u,size:g}),showTotal:u=>`\u5171${u}\u6761`,showQuickJumper:!0}:!1,loading:s(d).loading,scroll:{x:"calc(100wh - 300px)"},"row-key":"id",expandedRowKeys:s(w),"onUpdate:expandedRowKeys":o[3]||(o[3]=u=>A(w)?w.value=u:null)},{default:a(()=>[c(e.$slots,"table-col")]),_:3},8,["size","row-selection","data-source","pagination","loading","scroll","expandedRowKeys"])])]),_:3})])}}});export{Q as _};
