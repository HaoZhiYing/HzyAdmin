import{_ as C,r as N,j as s,W as D,k as p,q as g,w as t,g as a,f as l,L as c,n as u,e as $,M as B,t as V}from"./index-c3cea2d3.js";import{o as b}from"./organizationService-11fbe8ab.js";const j=u("\u63D0\u4EA4"),q=u("\u5173\u95ED"),z=u("\u6B63\u5E38"),M=u("\u505C\u7528"),O={emits:["onSuccess"],setup(P,{expose:x,emit:w}){const e=N({vm:{id:"",form:{}},visible:!1,saveLoading:!1}),_={findForm(){return e.saveLoading=!0,new Promise(m=>{b.findForm(e.vm.id).then(o=>{e.saveLoading=!1,o.code==1&&(e.vm=o.data,m(o))})})},saveForm(){e.saveLoading=!0,b.saveForm(e.vm).then(m=>{e.saveLoading=!1,m.code==1&&(V.message("\u64CD\u4F5C\u6210\u529F!","\u6210\u529F"),w("onSuccess",m.data),e.visible=!1)})},openForm({visible:m,key:o,parentId:i}){e.visible=m,m&&(e.vm.id=o,_.findForm().then(d=>{i&&(e.vm.form.parentId=i)}))}};return x({..._}),(m,o)=>{const i=s("a-button"),d=s("a-form-item"),r=s("a-col"),L=s("a-input-number"),v=s("a-input"),f=s("a-radio"),y=s("a-radio-group"),F=s("a-row"),U=s("a-form"),k=s("a-spin"),I=s("a-modal"),S=D("drag");return p(),g(I,{visible:l(e).visible,"onUpdate:visible":o[8]||(o[8]=n=>l(e).visible=n),title:l(e).vm.id?"\u7F16\u8F91":"\u65B0\u5EFA",centered:"",onOk:o[9]||(o[9]=n=>l(e).visible=!1),width:800},{footer:t(()=>[a(i,{type:"primary",onClick:o[0]||(o[0]=n=>_.saveForm()),loading:l(e).saveLoading},{default:t(()=>[j]),_:1},8,["loading"]),a(i,{type:"danger",ghost:"",onClick:o[1]||(o[1]=n=>l(e).visible=!1),class:"ml-15"},{default:t(()=>[q]),_:1})]),default:t(()=>[c((p(),g(k,{spinning:l(e).saveLoading},{default:t(()=>[a(U,{layout:"vertical",model:l(e).vm.form},{default:t(()=>[a(F,{gutter:[15,15]},{default:t(()=>[c(a(r,{xs:24},{default:t(()=>[a(d,{label:"parentId"},{default:t(()=>[u($(m.parentId),1)]),_:1})]),_:1},512),[[B,l(e).parentId]]),a(r,{xs:24,sm:12,md:12,lg:12,xl:12},{default:t(()=>[a(d,{label:"\u6392\u5E8F\u53F7"},{default:t(()=>[a(L,{value:l(e).vm.form.orderNumber,"onUpdate:value":o[2]||(o[2]=n=>l(e).vm.form.orderNumber=n),min:1,max:999,class:"w100"},null,8,["value"])]),_:1})]),_:1}),a(r,{xs:24,sm:12,md:12,lg:12,xl:12},{default:t(()=>[a(d,{label:"\u90E8\u95E8\u540D\u79F0"},{default:t(()=>[a(v,{value:l(e).vm.form.name,"onUpdate:value":o[3]||(o[3]=n=>l(e).vm.form.name=n),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1})]),_:1}),a(r,{xs:24,sm:12,md:12,lg:12,xl:12},{default:t(()=>[a(d,{label:"\u8D1F\u8D23\u4EBA"},{default:t(()=>[a(v,{value:l(e).vm.form.leader,"onUpdate:value":o[4]||(o[4]=n=>l(e).vm.form.leader=n),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1})]),_:1}),a(r,{xs:24,sm:12,md:12,lg:12,xl:12},{default:t(()=>[a(d,{label:"\u8054\u7CFB\u7535\u8BDD"},{default:t(()=>[a(v,{value:l(e).vm.form.phone,"onUpdate:value":o[5]||(o[5]=n=>l(e).vm.form.phone=n),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1})]),_:1}),a(r,{xs:24,sm:12,md:12,lg:12,xl:12},{default:t(()=>[a(d,{label:"\u90AE\u7BB1"},{default:t(()=>[a(v,{value:l(e).vm.form.email,"onUpdate:value":o[6]||(o[6]=n=>l(e).vm.form.email=n),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1})]),_:1}),a(r,{xs:24,sm:12,md:12,lg:12,xl:12},{default:t(()=>[a(d,{label:"\u72B6\u6001"},{default:t(()=>[a(y,{value:l(e).vm.form.state,"onUpdate:value":o[7]||(o[7]=n=>l(e).vm.form.state=n)},{default:t(()=>[a(f,{value:1},{default:t(()=>[z]),_:1}),a(f,{value:2},{default:t(()=>[M]),_:1})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["spinning"])),[[S]])]),_:1},8,["visible","title"])}}},h=C(O,[["__scopeId","data-v-e81b3922"]]);export{h as default};
