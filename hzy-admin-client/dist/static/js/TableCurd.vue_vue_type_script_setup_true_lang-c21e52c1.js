import{d as L,b as y,C as S,r as s,o as P,c as V,g as A,v as J,u,a as t,w as a,X as p,i as C,a3 as h,Y as Q}from"./index-294e8e84.js";import{_ as U}from"./AppIcon.vue_vue_type_script_setup_true_lang-a041bba6.js";const j=L({__name:"TableCurd",props:{config:null,isPagination:{type:Boolean,default:!0},expandedRowKeys:null},emits:["change","paginationChange","showSizeChange","update:expandedRowKeys"],setup(x,{expose:b,emit:_}){const f=x,r=y(()=>f.config),R=S(["10","15","20","100","1000"]),g=S("middle"),n=S([]),w=y({get:()=>f.expandedRowKeys,set:e=>_("update:expandedRowKeys",e)});b({getSelectedRowKeys(){return n.value},setSelectedRowKeys(e){n.value=[],n.value.push(...e)},setSelectedRowKey(e){n.value.findIndex(d=>d==e)>-1||n.value.push(e)},clearSelectedRowKeys(){n.value=[]}});const K=(e,o,d,i)=>{_("change",{pagination:e,filters:o,sorter:d,extra:i})},z=({page:e,pageSize:o})=>{_("paginationChange",{page:e,pageSize:o})},E=({current:e,size:o})=>{_("showSizeChange",{current:e,size:o})},k=y(()=>({selectedRowKeys:u(n),onChange:e=>{n.value=e},hideDefaultSelections:!0,selections:[h.SELECTION_ALL,h.SELECTION_INVERT,h.SELECTION_NONE,{key:"odd",text:"\u9009\u62E9\u5947\u6570\u884C",onSelect:e=>{let o=[];o=e.filter((d,i)=>i%2===0),n.value=o}},{key:"even",text:"\u9009\u62E9\u5076\u6570\u884C",onSelect:e=>{let o=[];o=e.filter((d,i)=>i%2!==0),n.value=o}}]}));return(e,o)=>{const d=s("a-card"),i=s("a-space"),v=s("a-col"),T=s("a-button"),m=s("a-menu-item"),N=s("a-menu"),$=s("a-dropdown"),D=s("a-row"),O=s("a-table");return P(),V("div",null,[A(t(d,{class:"mb-16",bordered:!1},{default:a(()=>[p(e.$slots,"search")]),_:3},512),[[J,u(r).search.state]]),t(d,{bodyStyle:{paddingTop:0},bordered:!1},{default:a(()=>[t(D,{class:"pt-16 pb-16"},{default:a(()=>[t(v,{xs:24,sm:24,md:12,lg:12,xl:12},{default:a(()=>[t(i,{size:8},{default:a(()=>[p(e.$slots,"toolbar-left")]),_:3})]),_:3}),t(v,{xs:24,sm:24,md:12,lg:12,xl:12,class:"text-right"},{default:a(()=>[t(i,{size:8},{default:a(()=>[p(e.$slots,"toolbar-right"),t($,null,{overlay:a(()=>[t(N,null,{default:a(()=>[t(m,{onClick:o[0]||(o[0]=()=>g.value=void 0)},{default:a(()=>[C(" \u9ED8\u8BA4 ")]),_:1}),t(m,{onClick:o[1]||(o[1]=()=>g.value="middle")},{default:a(()=>[C(" \u4E2D\u7B49 ")]),_:1}),t(m,{onClick:o[2]||(o[2]=()=>g.value="small")},{default:a(()=>[C(" \u7D27\u51D1 ")]),_:1})]),_:1})]),default:a(()=>[t(T,{type:"text"},{icon:a(()=>[t(U,{name:"column-height-outlined"})]),_:1})]),_:1})]),_:3})]),_:3})]),_:3}),p(e.$slots,"table",{},()=>[t(O,{size:g.value,"row-selection":u(k),"data-source":u(r).data,pagination:f.isPagination?{pageSize:u(r).size,total:u(r).total,current:u(r).page,pageSizeOptions:R.value,showSizeChanger:!0,onChange:(l,c)=>z({page:l,pageSize:c}),onShowSizeChange:(l,c)=>E({current:l,size:c}),showTotal:l=>`\u5171${l}\u6761`,showQuickJumper:!0}:!1,loading:u(r).loading,scroll:{x:"calc(100wh - 300px)"},"row-key":"id",expandedRowKeys:u(w),"onUpdate:expandedRowKeys":o[3]||(o[3]=l=>Q(w)?w.value=l:null),onChange:o[4]||(o[4]=(l,c,B,I)=>K(l,c,B,I))},{default:a(()=>[p(e.$slots,"table-col")]),_:3},8,["size","row-selection","data-source","pagination","loading","scroll","expandedRowKeys"])])]),_:3})])}}});export{j as _};
