import{b,K as h,a as x,r as N,j as n,k,q,w as a,g as e,n as w,t as F}from"./index-3c68c560.js";import{s as U}from"./personal_center_service-c1915079.js";const y=w("\u63D0\u4EA4"),C={name:"change_base_info"},R=Object.assign(C,{setup(I){const _=b(),m=h(()=>_.state.userInfo).value,p=x(),o=N({vm:{name:m.name,loginName:m.loginName,phone:m.phone,email:m.email}}),d={name:[{required:!0,message:"\u8BF7\u8F93\u5165\u771F\u5B9E\u59D3\u540D",trigger:"blur"}],loginName:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u6237\u540D\u79F0",trigger:"blur"}],phone:[{required:!0,message:"\u8BF7\u8F93\u5165\u8054\u7CFB\u7535\u8BDD",trigger:"blur"}],email:[{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u7BB1",trigger:"blur"}]},f={saveForm(){p.value.validate().then(()=>{U.saveForm(o.vm).then(u=>{u.code==1&&_.refreshUserInfo().then(()=>{F.message("\u64CD\u4F5C\u6210\u529F!","\u6210\u529F")})})}).catch(u=>{console.log("error",u)})},resetForm(){p.value.resetFields()}};return(u,t)=>{const i=n("a-input"),r=n("a-form-item"),s=n("a-col"),v=n("a-button"),c=n("a-row"),g=n("a-form");return k(),q(g,{layout:"vertical",ref_key:"formRef",ref:p,model:o.vm,rules:d},{default:a(()=>[e(c,{gutter:[15,15]},{default:a(()=>[e(s,{xs:24},{default:a(()=>[e(r,{label:"\u771F\u5B9E\u59D3\u540D",name:"name"},{default:a(()=>[e(i,{value:o.vm.name,"onUpdate:value":t[0]||(t[0]=l=>o.vm.name=l),placeholder:"\u771F\u5B9E\u59D3\u540D"},null,8,["value"])]),_:1})]),_:1}),e(s,{xs:24},{default:a(()=>[e(r,{label:"\u8D26\u6237\u540D\u79F0",name:"loginName"},{default:a(()=>[e(i,{value:o.vm.loginName,"onUpdate:value":t[1]||(t[1]=l=>o.vm.loginName=l),placeholder:"\u8D26\u6237\u540D\u79F0"},null,8,["value"])]),_:1})]),_:1}),e(s,{xs:24},{default:a(()=>[e(r,{label:"\u8054\u7CFB\u7535\u8BDD",name:"phone"},{default:a(()=>[e(i,{value:o.vm.phone,"onUpdate:value":t[2]||(t[2]=l=>o.vm.phone=l),placeholder:"\u8054\u7CFB\u7535\u8BDD"},null,8,["value"])]),_:1})]),_:1}),e(s,{xs:24},{default:a(()=>[e(r,{label:"\u90AE\u7BB1",name:"email"},{default:a(()=>[e(i,{value:o.vm.email,"onUpdate:value":t[3]||(t[3]=l=>o.vm.email=l),placeholder:"\u90AE\u7BB1"},null,8,["value"])]),_:1})]),_:1}),e(s,{xs:24},{default:a(()=>[e(r,{"wrapper-col":{span:14}},{default:a(()=>[e(v,{type:"primary",onClick:f.saveForm},{default:a(()=>[y]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])}}});export{R as default};
