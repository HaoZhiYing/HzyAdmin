import{d as w,x as U,E as y,r as t,o as L,e as k,w as l,a as o,j as v,m as S}from"./index-ddc31fce.js";import{S as _}from"./SysOrganizationService-7599e304.js";const $=w({__name:"Info",props:{onSuccess:{type:Function}},setup(F,{expose:b}){const g=F,e=U({vm:{id:"",form:{}},visible:!1,saveLoading:!1}),f=y();b({open:(n="",a="")=>{var r;e.visible=!0,e.visible&&(e.vm.id=n),(r=f.value)==null||r.resetFields(),e.saveLoading=!0,_.findForm(n).then(i=>{e.saveLoading=!1,i.code==1&&(e.vm=i.data,e.vm.form.parentId=a)})}});function c(){var n;(n=f.value)==null||n.validate().then(async()=>{e.saveLoading=!0,(await _.saveForm(e.vm.id,e.vm.form)).code==1&&(S.message.success("\u64CD\u4F5C\u6210\u529F!"),g.onSuccess(),e.visible=!1)})}return(n,a)=>{const r=t("a-button"),i=t("a-input-number"),m=t("a-form-item"),s=t("a-col"),d=t("a-input"),p=t("a-radio"),x=t("a-radio-group"),B=t("a-row"),E=t("a-form"),C=t("a-spin"),D=t("a-modal");return L(),k(D,{visible:e.visible,"onUpdate:visible":a[8]||(a[8]=u=>e.visible=u),title:e.vm.id?"\u7F16\u8F91":"\u65B0\u5EFA",centered:"",onOk:a[9]||(a[9]=u=>e.visible=!1),width:800},{footer:l(()=>[o(r,{type:"primary",loading:e.saveLoading,onClick:a[0]||(a[0]=u=>c())},{default:l(()=>[v(" \u63D0\u4EA4")]),_:1},8,["loading"]),o(r,{onClick:a[1]||(a[1]=u=>e.visible=!1)},{default:l(()=>[v("\u5173\u95ED")]),_:1})]),default:l(()=>[o(C,{spinning:e.saveLoading},{default:l(()=>[o(E,{ref_key:"refForm",ref:f,layout:"vertical",model:e.vm.form},{default:l(()=>[o(B,{gutter:[16,0]},{default:l(()=>[o(s,{xs:24,sm:12,md:12,lg:12,xl:12},{default:l(()=>[o(m,{label:"\u6392\u5E8F\u53F7"},{default:l(()=>[o(i,{value:e.vm.form.orderNumber,"onUpdate:value":a[2]||(a[2]=u=>e.vm.form.orderNumber=u),min:1,max:999,class:"w100"},null,8,["value"])]),_:1})]),_:1}),o(s,{xs:24,sm:12,md:12,lg:12,xl:12},{default:l(()=>[o(m,{label:"\u90E8\u95E8\u540D\u79F0"},{default:l(()=>[o(d,{value:e.vm.form.name,"onUpdate:value":a[3]||(a[3]=u=>e.vm.form.name=u),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1})]),_:1}),o(s,{xs:24,sm:12,md:12,lg:12,xl:12},{default:l(()=>[o(m,{label:"\u8D1F\u8D23\u4EBA"},{default:l(()=>[o(d,{value:e.vm.form.leader,"onUpdate:value":a[4]||(a[4]=u=>e.vm.form.leader=u),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1})]),_:1}),o(s,{xs:24,sm:12,md:12,lg:12,xl:12},{default:l(()=>[o(m,{label:"\u8054\u7CFB\u7535\u8BDD"},{default:l(()=>[o(d,{value:e.vm.form.phone,"onUpdate:value":a[5]||(a[5]=u=>e.vm.form.phone=u),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1})]),_:1}),o(s,{xs:24,sm:12,md:12,lg:12,xl:12},{default:l(()=>[o(m,{label:"\u90AE\u7BB1"},{default:l(()=>[o(d,{value:e.vm.form.email,"onUpdate:value":a[6]||(a[6]=u=>e.vm.form.email=u),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1})]),_:1}),o(s,{xs:24,sm:12,md:12,lg:12,xl:12},{default:l(()=>[o(m,{label:"\u72B6\u6001"},{default:l(()=>[o(x,{value:e.vm.form.state,"onUpdate:value":a[7]||(a[7]=u=>e.vm.form.state=u)},{default:l(()=>[o(p,{value:1},{default:l(()=>[v("\u6B63\u5E38")]),_:1}),o(p,{value:2},{default:l(()=>[v("\u505C\u7528")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["spinning"])]),_:1},8,["visible","title"])}}});export{$ as _};
