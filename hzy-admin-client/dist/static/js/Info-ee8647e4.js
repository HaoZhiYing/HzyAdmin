import{_ as S,r as C,j as n,T as N,k as f,q as p,w as t,g as a,L as g,n as i,e as D,M as $,t as B}from"./index-3c68c560.js";import{o as c}from"./organizationService-73a6c5a7.js";const T=i("\u63D0\u4EA4"),V=i("\u5173\u95ED"),j=i("\u6B63\u5E38"),q=i("\u505C\u7528"),z={__name:"Info",emits:["onSuccess"],setup(M,{expose:b,emit:x}){const e=C({vm:{id:"",form:{}},visible:!1,saveLoading:!1}),v={findForm(){return e.saveLoading=!0,new Promise(s=>{c.findForm(e.vm.id).then(o=>{e.saveLoading=!1,o.code==1&&(e.vm=o.data,s(o))})})},saveForm(){e.saveLoading=!0,c.saveForm(e.vm).then(s=>{e.saveLoading=!1,s.code==1&&(B.message("\u64CD\u4F5C\u6210\u529F!","\u6210\u529F"),x("onSuccess",s.data),e.visible=!1)})},openForm({visible:s,key:o,parentId:r}){e.visible=s,s&&(e.vm.id=o,v.findForm().then(m=>{r&&(e.vm.form.parentId=r)}))}};return b({...v}),(s,o)=>{const r=n("a-button"),m=n("a-form-item"),d=n("a-col"),w=n("a-input-number"),u=n("a-input"),_=n("a-radio"),L=n("a-radio-group"),y=n("a-row"),F=n("a-form"),I=n("a-spin"),U=n("a-modal"),k=N("drag");return f(),p(U,{visible:e.visible,"onUpdate:visible":o[8]||(o[8]=l=>e.visible=l),title:e.vm.id?"\u7F16\u8F91":"\u65B0\u5EFA",centered:"",onOk:o[9]||(o[9]=l=>e.visible=!1),width:800},{footer:t(()=>[a(r,{type:"primary",onClick:o[0]||(o[0]=l=>v.saveForm()),loading:e.saveLoading},{default:t(()=>[T]),_:1},8,["loading"]),a(r,{type:"danger",ghost:"",onClick:o[1]||(o[1]=l=>e.visible=!1),class:"ml-15"},{default:t(()=>[V]),_:1})]),default:t(()=>[g((f(),p(I,{spinning:e.saveLoading},{default:t(()=>[a(F,{layout:"vertical",model:e.vm.form},{default:t(()=>[a(y,{gutter:[15,15]},{default:t(()=>[g(a(d,{xs:24},{default:t(()=>[a(m,{label:"parentId"},{default:t(()=>[i(D(s.parentId),1)]),_:1})]),_:1},512),[[$,e.parentId]]),a(d,{xs:24,sm:12,md:12,lg:12,xl:12},{default:t(()=>[a(m,{label:"\u6392\u5E8F\u53F7"},{default:t(()=>[a(w,{value:e.vm.form.orderNumber,"onUpdate:value":o[2]||(o[2]=l=>e.vm.form.orderNumber=l),min:1,max:999,class:"w100"},null,8,["value"])]),_:1})]),_:1}),a(d,{xs:24,sm:12,md:12,lg:12,xl:12},{default:t(()=>[a(m,{label:"\u90E8\u95E8\u540D\u79F0"},{default:t(()=>[a(u,{value:e.vm.form.name,"onUpdate:value":o[3]||(o[3]=l=>e.vm.form.name=l),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1})]),_:1}),a(d,{xs:24,sm:12,md:12,lg:12,xl:12},{default:t(()=>[a(m,{label:"\u8D1F\u8D23\u4EBA"},{default:t(()=>[a(u,{value:e.vm.form.leader,"onUpdate:value":o[4]||(o[4]=l=>e.vm.form.leader=l),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1})]),_:1}),a(d,{xs:24,sm:12,md:12,lg:12,xl:12},{default:t(()=>[a(m,{label:"\u8054\u7CFB\u7535\u8BDD"},{default:t(()=>[a(u,{value:e.vm.form.phone,"onUpdate:value":o[5]||(o[5]=l=>e.vm.form.phone=l),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1})]),_:1}),a(d,{xs:24,sm:12,md:12,lg:12,xl:12},{default:t(()=>[a(m,{label:"\u90AE\u7BB1"},{default:t(()=>[a(u,{value:e.vm.form.email,"onUpdate:value":o[6]||(o[6]=l=>e.vm.form.email=l),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1})]),_:1}),a(d,{xs:24,sm:12,md:12,lg:12,xl:12},{default:t(()=>[a(m,{label:"\u72B6\u6001"},{default:t(()=>[a(L,{value:e.vm.form.state,"onUpdate:value":o[7]||(o[7]=l=>e.vm.form.state=l)},{default:t(()=>[a(_,{value:1},{default:t(()=>[j]),_:1}),a(_,{value:2},{default:t(()=>[q]),_:1})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["spinning"])),[[k]])]),_:1},8,["visible","title"])}}};var h=S(z,[["__scopeId","data-v-041608d0"]]);export{h as default};
