import{p as v,U as j,r as F,K as N,a as U,j as d,k as q,c as R,g as e,w as a,f as l,d as k,n as g,t as x}from"./index-c3cea2d3.js";import{c as w}from"./code_generation_service-c2cb5bfd.js";const f="admin/LowCodeTable",V={findList(n,_,c={}){return v(`${f}/findList/${n}/${_}`,c,!1)},deleteList(n){return n&&n.length===0?tools.message("\u8BF7\u9009\u62E9\u8981\u5220\u9664\u7684\u6570\u636E!","\u8B66\u544A"):v(`${f}/deleteList`,n,!1)},synchronization(){return v(`${f}/synchronization`,null,!1)},change(n){return v(`${f}/change`,n,!1)},findForm(n){return j(`${f}/findForm${n?"/"+n:""}`)},saveForm(n){return n.id?v(`${f}/update`,n.form):v(`${f}/create`,n.form)}},J=g("\u662F"),S=g("\u5426"),T={class:"text-right"},z=g("\u63D0\u4EA4"),B=g("\u4EE3\u7801\u8F7D\u5165\u9879\u76EE"),I={props:{tableName:String},setup(n,{expose:_}){const c=n,t=F({tableName:N(()=>c.tableName),vm:{id:"",form:{}},saveLoading:!1}),h=U(null),$={projectRootPath:[{required:!0,message:"\u8BF7\u8F93\u5165\u9879\u76EE\u6839\u5730\u5740",trigger:"blur"}],modelPath:[{required:!0,message:"\u8BF7\u8F93\u5165\u5B9E\u4F53\u4FDD\u5B58\u8DEF\u5F84",trigger:"blur"}],servicePath:[{required:!0,message:"\u8BF7\u8F93\u5165\u670D\u52A1\u4FDD\u5B58\u8DEF\u5F84",trigger:"blur"}],controllerPath:[{required:!0,message:"\u8BF7\u8F93\u5165\u63A7\u5236\u5668\u4FDD\u5B58\u8DEF\u5F84",trigger:"blur"}],indexVuePath:[{required:!0,message:"\u8BF7\u8F93\u5165\u524D\u7AEF\u89C6\u56FE\u4FDD\u5B58\u8DEF\u5F84",trigger:"blur"}],infoVuePath:[{required:!0,message:"\u8BF7\u8F93\u5165\u524D\u7AEF\u4FE1\u606F\u5F39\u7A97\u4FDD\u5B58\u4F4D\u7F6E",trigger:"blur"}],serviceJsPath:[{required:!0,message:"\u8BF7\u8F93\u5165\u524D\u7AEF\u670D\u52A1\u4FDD\u5B58\u4F4D\u7F6E",trigger:"blur"}]},p={findForm(){return t.saveLoading=!0,V.findForm(t.vm.id).then(s=>{t.saveLoading=!1,s.code==1&&(t.vm=s.data)})},saveForm(){h.value.validate().then(()=>{t.saveLoading=!0,V.saveForm(t.vm).then(s=>{s.code==1&&(x.message("\u64CD\u4F5C\u6210\u529F!","\u6210\u529F"),t.saveLoading=!1)}).finally(()=>{t.saveLoading=!1})})},autoImport(){console.log("\u6267\u884C"),w.autoImprotProject({tableName:c.tableName}).then(s=>{s.code===1&&x.message("\u5BFC\u5165\u6210\u529F,\u8BF7\u67E5\u770B!","\u6210\u529F")}).finally(()=>{})},loadData({key:s}){t.vm.id=s,p.findForm()}};return _({...p}),(s,o)=>{const P=d("a-radio"),y=d("a-radio-group"),m=d("a-form-item"),u=d("a-col"),i=d("a-input"),C=d("a-row"),L=d("a-form"),b=d("a-button");return q(),R("div",null,[e(L,{ref_key:"formRef",ref:h,layout:"vertical",model:l(t).vm.form,rules:$},{default:a(()=>[e(C,{gutter:[15,15]},{default:a(()=>[e(u,{xs:24,sm:12,md:12,lg:12,xl:12},{default:a(()=>[e(m,{label:"\u662F\u5426\u8986\u76D6",ref:"isCover",name:"isCover"},{default:a(()=>[e(y,{value:l(t).vm.form.isCover,"onUpdate:value":o[0]||(o[0]=r=>l(t).vm.form.isCover=r),name:"isCover"},{default:a(()=>[e(P,{value:!0},{default:a(()=>[J]),_:1}),e(P,{value:!1},{default:a(()=>[S]),_:1})]),_:1},8,["value"])]),_:1},512)]),_:1}),e(u,{xs:24,sm:12,md:12,lg:12,xl:12},{default:a(()=>[e(m,{label:"\u9879\u76EE\u6839\u5730\u5740",ref:"projectRootPath",name:"projectRootPath"},{default:a(()=>[e(i,{value:l(t).vm.form.projectRootPath,"onUpdate:value":o[1]||(o[1]=r=>l(t).vm.form.projectRootPath=r),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1},512)]),_:1}),e(u,{xs:24,sm:12,md:12,lg:12,xl:12},{default:a(()=>[e(m,{label:"\u5B9E\u4F53\u4FDD\u5B58\u8DEF\u5F84",ref:"modelPath",name:"modelPath"},{default:a(()=>[e(i,{value:l(t).vm.form.modelPath,"onUpdate:value":o[2]||(o[2]=r=>l(t).vm.form.modelPath=r),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1},512)]),_:1}),e(u,{xs:24,sm:12,md:12,lg:12,xl:12},{default:a(()=>[e(m,{label:"\u670D\u52A1\u4FDD\u5B58\u8DEF\u5F84",ref:"servicePath",name:"servicePath"},{default:a(()=>[e(i,{value:l(t).vm.form.servicePath,"onUpdate:value":o[3]||(o[3]=r=>l(t).vm.form.servicePath=r),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1},512)]),_:1}),e(u,{xs:24,sm:12,md:12,lg:12,xl:12},{default:a(()=>[e(m,{label:"\u63A7\u5236\u5668\u4FDD\u5B58\u8DEF\u5F84",ref:"controllerPath",name:"controllerPath"},{default:a(()=>[e(i,{value:l(t).vm.form.controllerPath,"onUpdate:value":o[4]||(o[4]=r=>l(t).vm.form.controllerPath=r),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1},512)]),_:1}),e(u,{xs:24,sm:12,md:12,lg:12,xl:12},{default:a(()=>[e(m,{label:"\u524D\u7AEF\u89C6\u56FE\u4FDD\u5B58\u8DEF\u5F84",ref:"indexVuePath",name:"indexVuePath"},{default:a(()=>[e(i,{value:l(t).vm.form.indexVuePath,"onUpdate:value":o[5]||(o[5]=r=>l(t).vm.form.indexVuePath=r),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1},512)]),_:1}),e(u,{xs:24,sm:12,md:12,lg:12,xl:12},{default:a(()=>[e(m,{label:"\u524D\u7AEF\u4FE1\u606F\u5F39\u7A97\u4FDD\u5B58\u4F4D\u7F6E",ref:"infoVuePath",name:"infoVuePath"},{default:a(()=>[e(i,{value:l(t).vm.form.infoVuePath,"onUpdate:value":o[6]||(o[6]=r=>l(t).vm.form.infoVuePath=r),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1},512)]),_:1}),e(u,{xs:24,sm:12,md:12,lg:12,xl:12},{default:a(()=>[e(m,{label:"\u524D\u7AEF\u670D\u52A1\u4FDD\u5B58\u4F4D\u7F6E",ref:"serviceJsPath",name:"serviceJsPath"},{default:a(()=>[e(i,{value:l(t).vm.form.serviceJsPath,"onUpdate:value":o[7]||(o[7]=r=>l(t).vm.form.serviceJsPath=r),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1},512)]),_:1})]),_:1})]),_:1},8,["model"]),k("div",T,[e(b,{type:"primary",onClick:o[8]||(o[8]=r=>p.saveForm()),class:"mr-24"},{default:a(()=>[z]),_:1}),e(b,{type:"primary",onClick:o[9]||(o[9]=r=>p.autoImport()),danger:""},{default:a(()=>[B]),_:1})])])}}},E=Object.freeze(Object.defineProperty({__proto__:null,default:I},Symbol.toStringTag,{value:"Module"}));export{E as C,I as _,V as s};
