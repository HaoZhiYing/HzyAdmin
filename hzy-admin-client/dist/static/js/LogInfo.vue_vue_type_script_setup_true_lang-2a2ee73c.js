import{T as k}from"./TimedTaskService-028e2962.js";import{d as w,y as x,r,o as m,e as f,w as l,a as d,c as E,j as B,i as u,t as c,F as C}from"./index-07368c36.js";const h=w({__name:"LogInfo",setup(F,{expose:g}){const e=x({vm:{id:"",form:{}},visible:!1,loading:!1,page:1});g({open:(n="")=>{e.visible=!0,e.visible&&(e.vm.id=n),p(n,!0)}});function p(n,t){e.loading=!0,k.getJobLoggers(n,e.page).then(a=>{if(e.loading=!1,a.code!=1)return;if(e.vm.form.data=a.data,!a.data||a.data.length==0){e.page=e.page-1;return}const o=[];t||e.vm.form.data.forEach(i=>{o.push(i)}),a.data.forEach(i=>{o.push(i)}),e.vm.form.data=o})}function _(){e.page=e.page+1,p(e.vm.id,!1)}return(n,t)=>{const a=r("a-timeline-item"),o=r("a-timeline"),i=r("a-button"),v=r("a-spin"),b=r("a-drawer");return m(),f(b,{visible:e.visible,"onUpdate:visible":t[1]||(t[1]=s=>e.visible=s),title:"\u4EFB\u52A1\u65E5\u5FD7",centered:"",onOk:t[2]||(t[2]=s=>e.visible=!1),width:1200},{default:l(()=>[d(v,{spinning:e.loading},{default:l(()=>[d(o,null,{default:l(()=>[(m(!0),E(C,null,B(e.vm.form.data,s=>(m(),f(a,null,{default:l(()=>[u(c(s.text),1)]),_:2},1024))),256))]),_:1}),d(i,{type:"primary",class:"mt-18",block:"",onClick:t[0]||(t[0]=s=>_())},{default:l(()=>[u("Next Page "+c(e.page),1)]),_:1})]),_:1},8,["spinning"])]),_:1},8,["visible"])}}});export{h as _};
