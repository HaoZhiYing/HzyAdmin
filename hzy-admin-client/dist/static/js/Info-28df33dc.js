var B=Object.defineProperty;var b=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var x=(i,s,m)=>s in i?B(i,s,{enumerable:!0,configurable:!0,writable:!0,value:m}):i[s]=m,w=(i,s)=>{for(var m in s||(s={}))V.call(s,m)&&x(i,m,s[m]);if(b)for(var m of b(s))h.call(s,m)&&x(i,m,s[m]);return i};import{_ as q,r as z,c as r,S as K,m as L,q as y,w as t,h as o,g as l,K as F,n as f,f as O,L as P,t as T}from"./index-95a530ff.js";import{o as U}from"./organizationService-4d7275c2.js";const j=f("\u63D0\u4EA4"),A=f("\u5173\u95ED"),E=f("\u6B63\u5E38"),G=f("\u505C\u7528"),H={emits:["onSuccess"],setup(i,{expose:s,emit:m}){const e=z({vm:{id:"",form:{}},visible:!1,saveLoading:!1}),g={findForm(){return e.saveLoading=!0,new Promise(d=>{U.findForm(e.vm.id).then(a=>{e.saveLoading=!1,a.code==1&&(e.vm=a.data,d(a))})})},saveForm(){e.saveLoading=!0,U.saveForm(e.vm).then(d=>{e.saveLoading=!1,d.code==1&&(T.message("\u64CD\u4F5C\u6210\u529F!","\u6210\u529F"),m("onSuccess",d.data),e.visible=!1)})},openForm({visible:d,key:a,parentId:_}){e.visible=d,d&&(e.vm.id=a,g.findForm().then(u=>{_&&(e.vm.form.parentId=_)}))}};return s(w({},g)),(d,a)=>{const _=r("a-button"),u=r("a-form-item"),v=r("a-col"),I=r("a-input-number"),p=r("a-input"),c=r("a-radio"),S=r("a-radio-group"),k=r("a-row"),C=r("a-form"),N=r("a-spin"),D=r("a-modal"),$=K("drag");return L(),y(D,{visible:l(e).visible,"onUpdate:visible":a[8]||(a[8]=n=>l(e).visible=n),title:l(e).vm.id?"\u7F16\u8F91":"\u65B0\u5EFA",centered:"",onOk:a[9]||(a[9]=n=>l(e).visible=!1),width:800},{footer:t(()=>[o(_,{type:"primary",onClick:a[0]||(a[0]=n=>g.saveForm()),loading:l(e).saveLoading},{default:t(()=>[j]),_:1},8,["loading"]),o(_,{type:"danger",ghost:"",onClick:a[1]||(a[1]=n=>l(e).visible=!1),class:"ml-15"},{default:t(()=>[A]),_:1})]),default:t(()=>[F((L(),y(N,{spinning:l(e).saveLoading},{default:t(()=>[o(C,{layout:"vertical",model:l(e).vm.form},{default:t(()=>[o(k,{gutter:[15,15]},{default:t(()=>[F(o(v,{xs:24},{default:t(()=>[o(u,{label:"parentId"},{default:t(()=>[f(O(d.parentId),1)]),_:1})]),_:1},512),[[P,l(e).parentId]]),o(v,{xs:24,sm:12,md:12,lg:12,xl:12},{default:t(()=>[o(u,{label:"\u6392\u5E8F\u53F7"},{default:t(()=>[o(I,{value:l(e).vm.form.orderNumber,"onUpdate:value":a[2]||(a[2]=n=>l(e).vm.form.orderNumber=n),min:1,max:999,class:"w100"},null,8,["value"])]),_:1})]),_:1}),o(v,{xs:24,sm:12,md:12,lg:12,xl:12},{default:t(()=>[o(u,{label:"\u90E8\u95E8\u540D\u79F0"},{default:t(()=>[o(p,{value:l(e).vm.form.name,"onUpdate:value":a[3]||(a[3]=n=>l(e).vm.form.name=n),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1})]),_:1}),o(v,{xs:24,sm:12,md:12,lg:12,xl:12},{default:t(()=>[o(u,{label:"\u8D1F\u8D23\u4EBA"},{default:t(()=>[o(p,{value:l(e).vm.form.leader,"onUpdate:value":a[4]||(a[4]=n=>l(e).vm.form.leader=n),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1})]),_:1}),o(v,{xs:24,sm:12,md:12,lg:12,xl:12},{default:t(()=>[o(u,{label:"\u8054\u7CFB\u7535\u8BDD"},{default:t(()=>[o(p,{value:l(e).vm.form.phone,"onUpdate:value":a[5]||(a[5]=n=>l(e).vm.form.phone=n),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1})]),_:1}),o(v,{xs:24,sm:12,md:12,lg:12,xl:12},{default:t(()=>[o(u,{label:"\u90AE\u7BB1"},{default:t(()=>[o(p,{value:l(e).vm.form.email,"onUpdate:value":a[6]||(a[6]=n=>l(e).vm.form.email=n),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1})]),_:1}),o(v,{xs:24,sm:12,md:12,lg:12,xl:12},{default:t(()=>[o(u,{label:"\u72B6\u6001"},{default:t(()=>[o(S,{value:l(e).vm.form.state,"onUpdate:value":a[7]||(a[7]=n=>l(e).vm.form.state=n)},{default:t(()=>[o(c,{value:1},{default:t(()=>[E]),_:1}),o(c,{value:2},{default:t(()=>[G]),_:1})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["spinning"])),[[$]])]),_:1},8,["visible","title"])}}};var R=q(H,[["__scopeId","data-v-041608d0"]]);export{R as default};
