import{_ as t,r as s,o,c as r,b as e,d as a,e as i,a as d}from"./app-4f4af2d5.js";const c="/docs/hzy-admin/database/ef-1.jpg",l="/docs/hzy-admin/database/ef-2.jpg",h="/docs/hzy-admin/database/ef-3.jpg",p={},u=e("h1",{id:"efcore-初始化数据库",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#efcore-初始化数据库","aria-hidden":"true"},"#"),a(" EFCore 初始化数据库")],-1),m=e("p",null,"通过 EF 迁移种子代码，生成数据库表结构和数据。",-1),_={class:"custom-container tip"},b=e("p",{class:"custom-container-title"},"微软官方参考文档",-1),v={href:"https://learn.microsoft.com/zh-cn/ef/core/cli/dotnet",target:"_blank",rel:"noopener noreferrer"},f=d(`<h2 id="_1、安装工具包-配置环境" tabindex="-1"><a class="header-anchor" href="#_1、安装工具包-配置环境" aria-hidden="true">#</a> 1、安装工具包，配置环境</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>// 安装
dotnet tool <span class="token function">install</span> <span class="token parameter variable">--global</span> dotnet-ef
// 更新
dotnet tool update <span class="token parameter variable">--global</span> dotnet-ef
// 验证
dotnet ef
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2、配置好数据库连接字符串-数据库类型" tabindex="-1"><a class="header-anchor" href="#_2、配置好数据库连接字符串-数据库类型" aria-hidden="true">#</a> 2、配置好数据库连接字符串，数据库类型</h2><p><img src="`+c+'" alt="配置数据库连接字符串"></p><h2 id="_3、删除迁移文件" tabindex="-1"><a class="header-anchor" href="#_3、删除迁移文件" aria-hidden="true">#</a> 3、删除迁移文件</h2><p><img src="'+l+'" alt="删除迁移文件"></p><h2 id="_4、打开迁移终端" tabindex="-1"><a class="header-anchor" href="#_4、打开迁移终端" aria-hidden="true">#</a> 4、打开迁移终端</h2><p><img src="'+h+`" alt="打开迁移终端"></p><h2 id="_5、初始化迁移指令" tabindex="-1"><a class="header-anchor" href="#_5、初始化迁移指令" aria-hidden="true">#</a> 5、初始化迁移指令</h2><div class="custom-container warning"><p class="custom-container-title">语法解析说明</p><p>dotnet ef migrations add 你的迁移文件名称 --startup-project &quot;../项目启动入口目录/项目启动入口工程名称.csproj&quot; --context &quot;DbContext名称&quot; -v</p></div><p>在终端中输入一下指令，初始化迁移文件。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>dotnet ef migrations <span class="token function">add</span> sqlserver_init --startup-project <span class="token string">&quot;../HZY.Api.Admin/HZY.Api.Admin.csproj&quot;</span> <span class="token parameter variable">--context</span> <span class="token string">&quot;AdminDbContext&quot;</span> <span class="token parameter variable">-v</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_6、启动项目" tabindex="-1"><a class="header-anchor" href="#_6、启动项目" aria-hidden="true">#</a> 6、启动项目</h2><blockquote><p>启动项目后会自动将数据库结构，和种子数据生成到数据库中。</p></blockquote>`,14);function g(x,k){const n=s("ExternalLinkIcon");return o(),r("div",null,[u,m,e("div",_,[b,e("p",null,[e("a",v,[a("https://learn.microsoft.com/zh-cn/ef/core/cli/dotnet"),i(n)])])]),f])}const j=t(p,[["render",g],["__file","efcore.html.vue"]]);export{j as default};
