import{d as b,A as x,m as h,b as N,r as C,f as l,o as w,l as U,w as a,a as e,j as k,T as q}from"./index-2f681d41.js";import{P as y}from"./PersonalCenterService-e41df804.js";const S=b({name:"change_base_info",__name:"ChangeBaseInfo",setup(F){const i=x(),s=h(()=>i.state.userInfo),v=N(),n=C({vm:{name:s.value.name,loginName:s.value.loginName,phone:s.value.phone,email:s.value.email}}),f={name:[{required:!0,message:"请输入真实姓名",trigger:"blur"}],loginName:[{required:!0,message:"请输入账户名称",trigger:"blur"}],phone:[{required:!0,message:"请输入联系电话",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"}]};function d(){var p;(p=v.value)==null||p.validate().then(()=>{y.saveForm(n.vm).then(o=>{o.code==1&&i.refreshUserInfo().then(()=>{q.message.success("操作成功!")})})})}return(p,o)=>{const u=l("a-input"),r=l("a-form-item"),m=l("a-col"),_=l("a-button"),c=l("a-row"),g=l("a-form");return w(),U(g,{layout:"vertical",ref_key:"refForm",ref:v,model:n.vm,rules:f},{default:a(()=>[e(c,{gutter:[16,0]},{default:a(()=>[e(m,{xs:24},{default:a(()=>[e(r,{label:"真实姓名",name:"name"},{default:a(()=>[e(u,{value:n.vm.name,"onUpdate:value":o[0]||(o[0]=t=>n.vm.name=t),placeholder:"真实姓名"},null,8,["value"])]),_:1})]),_:1}),e(m,{xs:24},{default:a(()=>[e(r,{label:"账户名称",name:"loginName"},{default:a(()=>[e(u,{value:n.vm.loginName,"onUpdate:value":o[1]||(o[1]=t=>n.vm.loginName=t),placeholder:"账户名称"},null,8,["value"])]),_:1})]),_:1}),e(m,{xs:24},{default:a(()=>[e(r,{label:"联系电话",name:"phone"},{default:a(()=>[e(u,{value:n.vm.phone,"onUpdate:value":o[2]||(o[2]=t=>n.vm.phone=t),placeholder:"联系电话"},null,8,["value"])]),_:1})]),_:1}),e(m,{xs:24},{default:a(()=>[e(r,{label:"邮箱",name:"email"},{default:a(()=>[e(u,{value:n.vm.email,"onUpdate:value":o[3]||(o[3]=t=>n.vm.email=t),placeholder:"邮箱"},null,8,["value"])]),_:1})]),_:1}),e(m,{xs:24},{default:a(()=>[e(r,{"wrapper-col":{span:14}},{default:a(()=>[e(_,{type:"primary",onClick:o[4]||(o[4]=t=>d())},{default:a(()=>[k("提交")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])}}});export{S as _};
