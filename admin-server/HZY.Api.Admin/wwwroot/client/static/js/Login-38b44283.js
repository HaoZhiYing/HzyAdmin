var b=Object.defineProperty;var N=(s,e,t)=>e in s?b(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var f=(s,e,t)=>(N(s,typeof e!="symbol"?e+"":e,t),t);import{H as z,d as $,r as S,b as m,A,e as I,T as d,f as c,o as L,c as C,g as o,a as i,t as v,w as u,h as B,i as g,j as T,p as U,k as V}from"./index-5ce8de01.js";import{_ as w}from"./AppIcon.vue_vue_type_script_setup_true_lang-7672b527.js";import{_ as H}from"./LanguageComponent.vue_vue_type_script_setup_true_lang-b9e5102b.js";import{_ as K}from"./_plugin-vue_export-helper-c27b6911.js";const O="/client/static/png/info_service-1fcbd48d.png";class h{static login(e,t){return z.post(`${this.urlPrefix}/Login`,{userName:e,userPassword:t})}}f(h,"urlPrefix","/api/v1/identity/Account");const j=s=>(U("data-v-6632ed89"),s=s(),V(),s),D={class:"lang-content"},E={class:"login"},M={class:"login-card"},q=j(()=>o("div",{class:"flex-left"},[o("img",{src:O,alt:""})],-1)),F={class:"flex-right p-30"},G={class:"title"},J={class:"mt-16"},Q={class:"mt-16"},R={class:"mt-40"},W=$({__name:"Login",setup(s){const e=S({userName:"admin",userPassword:"123456"}),t=m(null),l=m(!1),p=A();p.state.title,I(()=>{y(),t.value.focus()});async function _(){if(!e.userName)return d.message.warning(g.global.t("login.validate.username"));if(!e.userPassword)return d.message.warning(g.global.t("login.validate.userPassword"));try{l.value=!0;const n=await h.login(e.userName,e.userPassword);if(l.value=!1,n.code!=200)return;d.setAuthorization(n.data.token),window.location.href=window.location.origin}catch{l.value=!1}}function y(){d.removeAuthorization(),p.resetInfo()}return(n,a)=>{const x=c("a-input"),P=c("a-input-password"),k=c("a-button");return L(),C("div",null,[o("div",D,[i(H)]),o("div",E,[o("div",M,[q,o("div",F,[o("div",G,v(n.$t("login.title")),1),o("div",J,[i(x,{value:e.userName,"onUpdate:value":a[0]||(a[0]=r=>e.userName=r),placeholder:"请输入",size:"large","allow-clear":""},{prefix:u(()=>[i(w,{name:"UserOutlined",style:{color:"#1890ff","font-size":"14px"}})]),_:1},8,["value"])]),o("div",Q,[i(P,{type:"password",value:e.userPassword,"onUpdate:value":a[1]||(a[1]=r=>e.userPassword=r),size:"large",ref_key:"inputPassword",ref:t,onKeyup:a[2]||(a[2]=B(r=>_(),["enter"]))},{prefix:u(()=>[i(w,{name:"LockOutlined",style:{color:"#1890ff","font-size":"14px"}})]),_:1},8,["value"])]),o("div",R,[i(k,{type:"primary",onClick:a[3]||(a[3]=r=>_()),loading:l.value,size:"large",block:""},{default:u(()=>[T(v(n.$t("login.submit")),1)]),_:1},8,["loading"])])])])])])}}});const te=K(W,[["__scopeId","data-v-6632ed89"]]);export{te as default};
