var w=Object.defineProperty;var y=(r,t,e)=>t in r?w(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var c=(r,t,e)=>(y(r,typeof t!="symbol"?t+"":t,e),e);import{H as p,d as $,r as F,b as h,f,o as C,l as L,w as a,a as s,j as i,t as l}from"./index-cV5RpzD5.js";class v{static findList(t,e,u={},d=[]){return p.post(`${this.urlPrefix}/findList`,{page:t,size:e,search:u,searchSort:d})}static deleteList(t){return p.post(`${this.urlPrefix}/deleteList`,t)}static findForm(t){return p.get(`${this.urlPrefix}/findForm${t?"/"+t:""}`)}static deleteAllData(){return p.get(`${this.urlPrefix}/deleteAllData`)}}c(v,"urlPrefix","/api/v1/admin/SysOperationLog");const k=$({__name:"Info",props:{onSuccess:{type:Function}},setup(r,{expose:t}){const e=F({vm:{id:"",form:{},use:{}},visible:!1,loading:!1}),u=h();return t({open:(d="")=>{var n;e.visible=!0,e.visible&&(e.vm.id=d),(n=u.value)==null||n.resetFields(),e.loading=!0,v.findForm(d).then(m=>{e.loading=!1,m.code==200&&(e.vm=m.data)})}}),(d,n)=>{const m=f("a-button"),o=f("a-descriptions-item"),b=f("a-descriptions"),x=f("a-spin"),g=f("a-modal");return C(),L(g,{open:e.visible,"onUpdate:open":n[1]||(n[1]=_=>e.visible=_),title:e.vm.id?"编辑":"新建",centered:"",onOk:n[2]||(n[2]=_=>e.visible=!1),width:"70%"},{footer:a(()=>[s(m,{onClick:n[0]||(n[0]=_=>e.visible=!1)},{default:a(()=>[i("关闭")]),_:1})]),default:a(()=>[s(x,{spinning:e.loading},{default:a(()=>[s(b,{bordered:"",class:"text-Center w100"},{default:a(()=>[s(o,{label:"请求接口",style:{width:"150px"},span:3},{default:a(()=>[i(l(e.vm.form.api),1)]),_:1}),s(o,{label:"请求ip",style:{width:"150px"}},{default:a(()=>[i(l(e.vm.form.ip),1)]),_:1}),s(o,{label:"浏览器"},{default:a(()=>[i(l(e.vm.form.browser),1)]),_:1}),s(o,{label:"操作系统"},{default:a(()=>[i(l(e.vm.form.os),1)]),_:1}),s(o,{label:"操作人"},{default:a(()=>[i(l(e.vm.use.name),1)]),_:1}),s(o,{label:"操作人账号"},{default:a(()=>[i(l(e.vm.use.loginName),1)]),_:1}),s(o,{label:"请求所耗时间"},{default:a(()=>[i(l(e.vm.form.takeUpTime)+"(毫秒) ",1)]),_:1}),s(o,{label:"访问时间",style:{width:"150px"},span:3},{default:a(()=>[i(l(e.vm.form.createTime),1)]),_:1}),s(o,{label:"请求体",span:3},{default:a(()=>[i(l(e.vm.form.formBody),1)]),_:1}),s(o,{label:"请求表单",span:3},{default:a(()=>[i(l(e.vm.form.form),1)]),_:1}),s(o,{label:"地址栏参数",span:3},{default:a(()=>[i(l(e.vm.form.queryString),1)]),_:1})]),_:1})]),_:1},8,["spinning"])]),_:1},8,["open","title"])}}});export{v as S,k as _};
