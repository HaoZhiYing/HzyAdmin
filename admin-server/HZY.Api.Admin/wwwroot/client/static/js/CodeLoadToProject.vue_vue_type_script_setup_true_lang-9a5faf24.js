var $=Object.defineProperty;var L=(n,a,e)=>a in n?$(n,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[a]=e;var h=(n,a,e)=>(L(n,typeof a!="symbol"?a+"":a,e),e);import{H as d,d as U,r as D,b as N,a7 as S,f as m,o as T,c as k,a as t,w as o,i as p,u as z,g as V,T as x}from"./index-ceef6588.js";import{C as j}from"./CodeGenerationService-95b9b56a.js";class _{static findList(a,e,v={},c=[]){return d.post(`${this.urlPrefix}/findList`,{page:a,size:e,search:v,searchSort:c})}static deleteList(a){return d.post(`${this.urlPrefix}/deleteList`,a)}static findForm(a){return d.get(`${this.urlPrefix}/findForm${a?"/"+a:""}`)}static saveForm(a,e){return d.post(`${this.urlPrefix}/${a?"update":"create"}`,e)}static synchronization(){return d.post(`${this.urlPrefix}/synchronization`)}static change(a){return d.post(`${this.urlPrefix}/change`,a)}}h(_,"urlPrefix","/api/v1/admin/LowCodeTable");const B={class:"text-center mt-48"},q=U({__name:"CodeLoadToProject",props:{rowData:null},setup(n){const a=n,e=D({vm:{id:"",form:{}},loading:!1}),v=N(),c={};S(()=>{a.rowData&&g()},a.rowData);async function g(){e.loading=!0;const s=await _.findForm(a.rowData.id);e.loading=!1,s.code==1&&(e.vm=s.data)}function b(s=null){var l;(l=v.value)==null||l.validate().then(()=>{e.loading=!0,_.saveForm(e.vm.id,e.vm.form).then(i=>{e.loading=!1,i.code==1&&(x.message.success("保存成功!"),s&&s())}).finally(()=>{e.loading=!1})})}function w(){b(async()=>{e.loading=!0;const s=await j.autoImprotProject({tableName:a.rowData.tableName});e.loading=!1,s.code===1&&x.message.success("代码载入项目成功!")})}return(s,l)=>{const i=m("a-input"),u=m("a-form-item"),f=m("a-col"),P=m("a-radio"),C=m("a-radio-group"),I=m("a-row"),y=m("a-form"),F=m("a-button");return T(),k("div",null,[t(y,{ref_key:"refForm",ref:v,layout:"vertical",model:e.vm.form,rules:z(c)},{default:o(()=>[t(I,{gutter:[15,15]},{default:o(()=>[t(f,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[t(u,{label:"实体保存路径",ref:"modelPath",name:"modelPath"},{default:o(()=>[t(i,{value:e.vm.form.modelPath,"onUpdate:value":l[0]||(l[0]=r=>e.vm.form.modelPath=r),placeholder:"请输入"},null,8,["value"])]),_:1},512)]),_:1}),t(f,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[t(u,{label:"服务保存路径",ref:"servicePath",name:"servicePath"},{default:o(()=>[t(i,{value:e.vm.form.servicePath,"onUpdate:value":l[1]||(l[1]=r=>e.vm.form.servicePath=r),placeholder:"请输入"},null,8,["value"])]),_:1},512)]),_:1}),t(f,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[t(u,{label:"控制器保存路径",ref:"controllerPath",name:"controllerPath"},{default:o(()=>[t(i,{value:e.vm.form.controllerPath,"onUpdate:value":l[2]||(l[2]=r=>e.vm.form.controllerPath=r),placeholder:"请输入"},null,8,["value"])]),_:1},512)]),_:1}),t(f,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[t(u,{label:"前端视图保存路径",ref:"clientIndexPath",name:"clientIndexPath"},{default:o(()=>[t(i,{value:e.vm.form.clientIndexPath,"onUpdate:value":l[3]||(l[3]=r=>e.vm.form.clientIndexPath=r),placeholder:"请输入"},null,8,["value"])]),_:1},512)]),_:1}),t(f,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[t(u,{label:"前端信息弹窗保存位置",ref:"clientInfoPath",name:"clientInfoPath"},{default:o(()=>[t(i,{value:e.vm.form.clientInfoPath,"onUpdate:value":l[4]||(l[4]=r=>e.vm.form.clientInfoPath=r),placeholder:"请输入"},null,8,["value"])]),_:1},512)]),_:1}),t(f,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[t(u,{label:"前端服务保存位置",ref:"clientServicePath",name:"clientServicePath"},{default:o(()=>[t(i,{value:e.vm.form.clientServicePath,"onUpdate:value":l[5]||(l[5]=r=>e.vm.form.clientServicePath=r),placeholder:"请输入"},null,8,["value"])]),_:1},512)]),_:1}),t(f,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[t(u,{label:"是否覆盖",ref:"isCover",name:"isCover"},{default:o(()=>[t(C,{value:e.vm.form.isCover,"onUpdate:value":l[6]||(l[6]=r=>e.vm.form.isCover=r),name:"isCover"},{default:o(()=>[t(P,{value:!0},{default:o(()=>[p("是")]),_:1}),t(P,{value:!1},{default:o(()=>[p("否")]),_:1})]),_:1},8,["value"])]),_:1},512)]),_:1})]),_:1})]),_:1},8,["model","rules"]),V("div",B,[t(F,{type:"primary",onClick:l[7]||(l[7]=r=>w())},{default:o(()=>[p("代码载入项目")]),_:1})])])}}});export{_ as L,q as _};
