var N=Object.defineProperty;var b=(s,e,t)=>e in s?N(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var f=(s,e,t)=>(b(s,typeof e!="symbol"?e+"":e,t),t);import{H as z,d as $,r as A,b as m,A as S,e as I,T as c,f as d,o as B,c as C,g as o,a as i,t as v,w as u,h as L,i as g,j as U,p as T,k as V}from"./index-C9oHGpmd.js";import{_ as w}from"./AppIcon.vue_vue_type_script_setup_true_lang-o_ph5tPH.js";import{_ as E}from"./LanguageComponent.vue_vue_type_script_setup_true_lang-u-176V7L.js";import{_ as H}from"./_plugin-vue_export-helper-x3n3nnut.js";const K="/client/static/png/info_service-BEG_UyA0.png";class h{static login(e,t){return z.post(`${this.urlPrefix}/Login`,{userName:e,userPassword:t})}}f(h,"urlPrefix","/api/v1/identity/Account");const O=s=>(T("data-v-cee11ae2"),s=s(),V(),s),j={class:"lang-content"},D={class:"login"},G={class:"login-card"},M=O(()=>o("div",{class:"flex-left"},[o("img",{src:K,alt:""})],-1)),q={class:"flex-right p-30"},F={class:"title"},J={class:"mt-16"},Q={class:"mt-16"},R={class:"mt-40"},W=$({__name:"Login",setup(s){const e=A({userName:"admin",userPassword:"123456"}),t=m(null),l=m(!1),p=S();p.state.title,I(()=>{y(),t.value.focus()});async function _(){if(!e.userName)return c.message.warning(g.global.t("login.validate.username"));if(!e.userPassword)return c.message.warning(g.global.t("login.validate.userPassword"));try{l.value=!0;const n=await h.login(e.userName,e.userPassword);if(l.value=!1,n.code!=200)return;c.setAuthorization(n.data.token),window.location.href=window.location.origin}catch{l.value=!1}}function y(){c.removeAuthorization(),p.resetInfo()}return(n,a)=>{const x=d("a-input"),P=d("a-input-password"),k=d("a-button");return B(),C("div",null,[o("div",j,[i(E)]),o("div",D,[o("div",G,[M,o("div",q,[o("div",F,v(n.$t("login.title")),1),o("div",J,[i(x,{value:e.userName,"onUpdate:value":a[0]||(a[0]=r=>e.userName=r),placeholder:"请输入",size:"large","allow-clear":""},{prefix:u(()=>[i(w,{name:"UserOutlined",style:{color:"#1890ff","font-size":"14px"}})]),_:1},8,["value"])]),o("div",Q,[i(P,{type:"password",value:e.userPassword,"onUpdate:value":a[1]||(a[1]=r=>e.userPassword=r),size:"large",ref_key:"inputPassword",ref:t,onKeyup:a[2]||(a[2]=L(r=>_(),["enter"]))},{prefix:u(()=>[i(w,{name:"LockOutlined",style:{color:"#1890ff","font-size":"14px"}})]),_:1},8,["value"])]),o("div",R,[i(k,{type:"primary",onClick:a[3]||(a[3]=r=>_()),loading:l.value,size:"large",block:""},{default:u(()=>[U(v(n.$t("login.submit")),1)]),_:1},8,["loading"])])])])])])}}}),te=H(W,[["__scopeId","data-v-cee11ae2"]]);export{te as default};
