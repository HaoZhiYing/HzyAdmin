import{d as v,b as c,T as u,s as h,n as g,F as k,e as y,q as I,f as b,o as n,l as w,w as d,c as s,G as x,a as B,I as L,J as S,u as T,y as C,M as U}from"./index-cV5RpzD5.js";import{_ as z}from"./_plugin-vue_export-helper-x3n3nnut.js";const A=["src"],D=v({__name:"LayoutIframe",setup(F){const f=c(u.getAuthorization()),m=c(),l=h(),i=g(()=>l.state.tabs.filter(t=>t.meta.mode==2)),o=c(!1),p=k();y(()=>{f.value=u.getAuthorization()}),I(()=>i.value,(t,e)=>{t.length>e.length&&(o.value=!0)});function _(t,e,r){return e=e==null?void 0:e.replace("{menuid}",r.toString()),e=e==null?void 0:e.replace("{token}",f.value),e}return(t,e)=>{const r=b("a-spin");return n(),w(r,{spinning:o.value},{default:d(()=>[(n(!0),s(U,null,x(i.value,(a,M)=>(n(),s("div",{key:a.path},[B(C,{name:"fade-transform",mode:"out-in"},{default:d(()=>[L((n(),s("div",{key:a.path},[(n(),s("iframe",{ref_for:!0,ref_key:"iframe",ref:m,src:_(a.meta.moduleUrl,a.meta.moduleUrlPro,a.meta.menuId),frameBorder:"0",onLoad:e[0]||(e[0]=R=>o.value=!1),key:a.path},null,40,A))])),[[S,a.path==T(p).currentRoute.value.path]])]),_:2},1024)]))),128))]),_:1},8,["spinning"])}}}),G=z(D,[["__scopeId","data-v-7ad024a8"]]);export{G as default};
