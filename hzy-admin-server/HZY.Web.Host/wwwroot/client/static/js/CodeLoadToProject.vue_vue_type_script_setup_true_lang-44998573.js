var A=Object.defineProperty;var L=(l,t,e)=>t in l?A(l,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[t]=e;var g=(l,t,e)=>(L(l,typeof t!="symbol"?t+"":t,e),e);import{S as f,d as w,z as $,E as I,a7 as j,r as m,o as y,c as U,a as u,w as a,j as F,u as q,f as R,p as P}from"./index-87b89bfd.js";import{C as S}from"./CodeGenerationService-74ce89cd.js";class c{static findList(t,e,v={}){return f.post(`${this.urlPrefix}/findList/${e}/${t}`,v)}static deleteList(t){return f.post(`${this.urlPrefix}/deleteList`,t)}static findForm(t){return f.get(`${this.urlPrefix}/findForm${t?"/"+t:""}`)}static saveForm(t,e){return f.post(`${this.urlPrefix}/${t?"update":"create"}`,e)}static synchronization(){return f.post(`${this.urlPrefix}/synchronization`)}static change(t){return f.post(`${this.urlPrefix}/change`,t)}}g(c,"urlPrefix","/api/admin/LowCodeTable");const N={class:"text-center mt-48"},z=w({__name:"CodeLoadToProject",props:{rowData:null},setup(l){const t=l,e=$({vm:{id:"",form:{}},saveLoading:!1}),v=I(),E={projectRootPath:[{required:!0,message:"\u8BF7\u8F93\u5165\u9879\u76EE\u6839\u5730\u5740",trigger:"blur"}],modelPath:[{required:!0,message:"\u8BF7\u8F93\u5165\u5B9E\u4F53\u4FDD\u5B58\u8DEF\u5F84",trigger:"blur"}],servicePath:[{required:!0,message:"\u8BF7\u8F93\u5165\u670D\u52A1\u4FDD\u5B58\u8DEF\u5F84",trigger:"blur"}],controllerPath:[{required:!0,message:"\u8BF7\u8F93\u5165\u63A7\u5236\u5668\u4FDD\u5B58\u8DEF\u5F84",trigger:"blur"}],indexVuePath:[{required:!0,message:"\u8BF7\u8F93\u5165\u524D\u7AEF\u89C6\u56FE\u4FDD\u5B58\u8DEF\u5F84",trigger:"blur"}],infoVuePath:[{required:!0,message:"\u8BF7\u8F93\u5165\u524D\u7AEF\u4FE1\u606F\u5F39\u7A97\u4FDD\u5B58\u4F4D\u7F6E",trigger:"blur"}],serviceJsPath:[{required:!0,message:"\u8BF7\u8F93\u5165\u524D\u7AEF\u670D\u52A1\u4FDD\u5B58\u4F4D\u7F6E",trigger:"blur"}]};j(()=>{t.rowData&&h()},t.rowData);async function h(){e.saveLoading=!0;const n=await c.findForm(t.rowData.id);e.saveLoading=!1,n.code==1&&(e.vm=n.data)}function _(){var n;(n=v.value)==null||n.validate().then(()=>{e.saveLoading=!0,c.saveForm(e.vm.id,e.vm).then(r=>{e.saveLoading=!1,r.code==1&&P.message.success("\u64CD\u4F5C\u6210\u529F!")}).finally(()=>{e.saveLoading=!1})})}async function x(){e.saveLoading=!0;const n=await S.autoImprotProject({tableName:t.rowData.tableName});e.saveLoading=!1,n.code===1&&P.message.success("\u5BFC\u5165\u9879\u76EE\u5DE5\u7A0B\u6210\u529F!")}return(n,r)=>{const p=m("a-radio"),B=m("a-radio-group"),s=m("a-form-item"),i=m("a-col"),d=m("a-input"),b=m("a-row"),C=m("a-form"),D=m("a-button");return y(),U("div",null,[u(C,{ref:"formRef",layout:"vertical",model:e.vm.form,rules:q(E)},{default:a(()=>[u(b,{gutter:[15,15]},{default:a(()=>[u(i,{xs:24,sm:12,md:12,lg:12,xl:12},{default:a(()=>[u(s,{label:"\u662F\u5426\u8986\u76D6",ref:"isCover",name:"isCover"},{default:a(()=>[u(B,{value:e.vm.form.isCover,"onUpdate:value":r[0]||(r[0]=o=>e.vm.form.isCover=o),name:"isCover"},{default:a(()=>[u(p,{value:!0},{default:a(()=>[F("\u662F")]),_:1}),u(p,{value:!1},{default:a(()=>[F("\u5426")]),_:1})]),_:1},8,["value"])]),_:1},512)]),_:1}),u(i,{xs:24,sm:12,md:12,lg:12,xl:12},{default:a(()=>[u(s,{label:"\u9879\u76EE\u6839\u5730\u5740",ref:"projectRootPath",name:"projectRootPath"},{default:a(()=>[u(d,{value:e.vm.form.projectRootPath,"onUpdate:value":r[1]||(r[1]=o=>e.vm.form.projectRootPath=o),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1},512)]),_:1}),u(i,{xs:24,sm:12,md:12,lg:12,xl:12},{default:a(()=>[u(s,{label:"\u5B9E\u4F53\u4FDD\u5B58\u8DEF\u5F84",ref:"modelPath",name:"modelPath"},{default:a(()=>[u(d,{value:e.vm.form.modelPath,"onUpdate:value":r[2]||(r[2]=o=>e.vm.form.modelPath=o),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1},512)]),_:1}),u(i,{xs:24,sm:12,md:12,lg:12,xl:12},{default:a(()=>[u(s,{label:"\u670D\u52A1\u4FDD\u5B58\u8DEF\u5F84",ref:"servicePath",name:"servicePath"},{default:a(()=>[u(d,{value:e.vm.form.servicePath,"onUpdate:value":r[3]||(r[3]=o=>e.vm.form.servicePath=o),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1},512)]),_:1}),u(i,{xs:24,sm:12,md:12,lg:12,xl:12},{default:a(()=>[u(s,{label:"\u63A7\u5236\u5668\u4FDD\u5B58\u8DEF\u5F84",ref:"controllerPath",name:"controllerPath"},{default:a(()=>[u(d,{value:e.vm.form.controllerPath,"onUpdate:value":r[4]||(r[4]=o=>e.vm.form.controllerPath=o),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1},512)]),_:1}),u(i,{xs:24,sm:12,md:12,lg:12,xl:12},{default:a(()=>[u(s,{label:"\u524D\u7AEF\u89C6\u56FE\u4FDD\u5B58\u8DEF\u5F84",ref:"clientIndexPath",name:"clientIndexPath"},{default:a(()=>[u(d,{value:e.vm.form.clientIndexPath,"onUpdate:value":r[5]||(r[5]=o=>e.vm.form.clientIndexPath=o),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1},512)]),_:1}),u(i,{xs:24,sm:12,md:12,lg:12,xl:12},{default:a(()=>[u(s,{label:"\u524D\u7AEF\u4FE1\u606F\u5F39\u7A97\u4FDD\u5B58\u4F4D\u7F6E",ref:"clientInfoPath",name:"clientInfoPath"},{default:a(()=>[u(d,{value:e.vm.form.clientInfoPath,"onUpdate:value":r[6]||(r[6]=o=>e.vm.form.clientInfoPath=o),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1},512)]),_:1}),u(i,{xs:24,sm:12,md:12,lg:12,xl:12},{default:a(()=>[u(s,{label:"\u524D\u7AEF\u670D\u52A1\u4FDD\u5B58\u4F4D\u7F6E",ref:"clientServicePath",name:"clientServicePath"},{default:a(()=>[u(d,{value:e.vm.form.clientServicePath,"onUpdate:value":r[7]||(r[7]=o=>e.vm.form.clientServicePath=o),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1},512)]),_:1})]),_:1})]),_:1},8,["model","rules"]),R("div",N,[u(D,{onClick:r[8]||(r[8]=o=>_()),class:"mr-24"},{default:a(()=>[F("\u63D0\u4EA4")]),_:1}),u(D,{type:"primary",onClick:r[9]||(r[9]=o=>x())},{default:a(()=>[F("\u4EE3\u7801\u8F7D\u5165\u9879\u76EE")]),_:1})])])}}});export{c as L,z as _};
