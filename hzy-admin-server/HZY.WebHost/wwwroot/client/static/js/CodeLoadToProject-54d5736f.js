var U=Object.defineProperty;var x=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var V=(a,m,s)=>m in a?U(a,m,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[m]=s,$=(a,m)=>{for(var s in m||(m={}))q.call(m,s)&&V(a,s,m[s]);if(x)for(var s of x(m))R.call(m,s)&&V(a,s,m[s]);return a};import{p as c,aT as k,r as w,K as J,a as T,c as f,m as S,d as z,h as e,w as o,g as n,e as B,n as _,t as y}from"./index-61767115.js";import{c as I}from"./code_generation_service-da392612.js";const p="admin/LowCodeTable";var C={findList(a,m,s={}){return c(`${p}/findList/${a}/${m}`,s,!1)},deleteList(a){return a&&a.length===0?tools.message("\u8BF7\u9009\u62E9\u8981\u5220\u9664\u7684\u6570\u636E!","\u8B66\u544A"):c(`${p}/deleteList`,a,!1)},synchronization(){return c(`${p}/synchronization`,null,!1)},change(a){return c(`${p}/change`,a,!1)},findForm(a){return k(`${p}/findForm${a?"/"+a:""}`)},saveForm(a){return a.id?c(`${p}/update`,a.form):c(`${p}/create`,a.form)}};const O=_("\u662F"),D=_("\u5426"),E={class:"text-right"},G=_("\u63D0\u4EA4"),K=_("\u4EE3\u7801\u8F7D\u5165\u9879\u76EE"),M={props:{tableName:String},setup(a,{expose:m}){const s=a,t=w({tableName:J(()=>s.tableName),vm:{id:"",form:{}},saveLoading:!1}),h=T(null),L={projectRootPath:[{required:!0,message:"\u8BF7\u8F93\u5165\u9879\u76EE\u6839\u5730\u5740",trigger:"blur"}],modelPath:[{required:!0,message:"\u8BF7\u8F93\u5165\u5B9E\u4F53\u4FDD\u5B58\u8DEF\u5F84",trigger:"blur"}],servicePath:[{required:!0,message:"\u8BF7\u8F93\u5165\u670D\u52A1\u4FDD\u5B58\u8DEF\u5F84",trigger:"blur"}],controllerPath:[{required:!0,message:"\u8BF7\u8F93\u5165\u63A7\u5236\u5668\u4FDD\u5B58\u8DEF\u5F84",trigger:"blur"}],indexVuePath:[{required:!0,message:"\u8BF7\u8F93\u5165\u524D\u7AEF\u89C6\u56FE\u4FDD\u5B58\u8DEF\u5F84",trigger:"blur"}],infoVuePath:[{required:!0,message:"\u8BF7\u8F93\u5165\u524D\u7AEF\u4FE1\u606F\u5F39\u7A97\u4FDD\u5B58\u4F4D\u7F6E",trigger:"blur"}],serviceJsPath:[{required:!0,message:"\u8BF7\u8F93\u5165\u524D\u7AEF\u670D\u52A1\u4FDD\u5B58\u4F4D\u7F6E",trigger:"blur"}]},g={findForm(){return t.saveLoading=!0,C.findForm(t.vm.id).then(u=>{t.saveLoading=!1,u.code==1&&(t.vm=u.data)})},saveForm(){h.value.validate().then(()=>{t.saveLoading=!0,C.saveForm(t.vm).then(u=>{u.code==1&&(y.message("\u64CD\u4F5C\u6210\u529F!","\u6210\u529F"),t.saveLoading=!1)}).finally(()=>{t.saveLoading=!1})})},autoImport(){console.log("\u6267\u884C"),I.autoImprotProject({tableName:s.tableName}).then(u=>{u.code===1&&y.message("\u5BFC\u5165\u6210\u529F,\u8BF7\u67E5\u770B!","\u6210\u529F")}).finally(()=>{})},loadData({key:u}){t.vm.id=u,g.findForm()}};return m($({},g)),(u,r)=>{const P=f("a-radio"),j=f("a-radio-group"),d=f("a-form-item"),i=f("a-col"),v=f("a-input"),F=f("a-row"),N=f("a-form"),b=f("a-button");return S(),z("div",null,[e(N,{ref_key:"formRef",ref:h,layout:"vertical",model:n(t).vm.form,rules:L},{default:o(()=>[e(F,{gutter:[15,15]},{default:o(()=>[e(i,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[e(d,{label:"\u662F\u5426\u8986\u76D6",ref:"isCover",name:"isCover"},{default:o(()=>[e(j,{value:n(t).vm.form.isCover,"onUpdate:value":r[0]||(r[0]=l=>n(t).vm.form.isCover=l),name:"isCover"},{default:o(()=>[e(P,{value:!0},{default:o(()=>[O]),_:1}),e(P,{value:!1},{default:o(()=>[D]),_:1})]),_:1},8,["value"])]),_:1},512)]),_:1}),e(i,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[e(d,{label:"\u9879\u76EE\u6839\u5730\u5740",ref:"projectRootPath",name:"projectRootPath"},{default:o(()=>[e(v,{value:n(t).vm.form.projectRootPath,"onUpdate:value":r[1]||(r[1]=l=>n(t).vm.form.projectRootPath=l),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1},512)]),_:1}),e(i,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[e(d,{label:"\u5B9E\u4F53\u4FDD\u5B58\u8DEF\u5F84",ref:"modelPath",name:"modelPath"},{default:o(()=>[e(v,{value:n(t).vm.form.modelPath,"onUpdate:value":r[2]||(r[2]=l=>n(t).vm.form.modelPath=l),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1},512)]),_:1}),e(i,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[e(d,{label:"\u670D\u52A1\u4FDD\u5B58\u8DEF\u5F84",ref:"servicePath",name:"servicePath"},{default:o(()=>[e(v,{value:n(t).vm.form.servicePath,"onUpdate:value":r[3]||(r[3]=l=>n(t).vm.form.servicePath=l),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1},512)]),_:1}),e(i,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[e(d,{label:"\u63A7\u5236\u5668\u4FDD\u5B58\u8DEF\u5F84",ref:"controllerPath",name:"controllerPath"},{default:o(()=>[e(v,{value:n(t).vm.form.controllerPath,"onUpdate:value":r[4]||(r[4]=l=>n(t).vm.form.controllerPath=l),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1},512)]),_:1}),e(i,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[e(d,{label:"\u524D\u7AEF\u89C6\u56FE\u4FDD\u5B58\u8DEF\u5F84",ref:"indexVuePath",name:"indexVuePath"},{default:o(()=>[e(v,{value:n(t).vm.form.indexVuePath,"onUpdate:value":r[5]||(r[5]=l=>n(t).vm.form.indexVuePath=l),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1},512)]),_:1}),e(i,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[e(d,{label:"\u524D\u7AEF\u4FE1\u606F\u5F39\u7A97\u4FDD\u5B58\u4F4D\u7F6E",ref:"infoVuePath",name:"infoVuePath"},{default:o(()=>[e(v,{value:n(t).vm.form.infoVuePath,"onUpdate:value":r[6]||(r[6]=l=>n(t).vm.form.infoVuePath=l),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1},512)]),_:1}),e(i,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[e(d,{label:"\u524D\u7AEF\u670D\u52A1\u4FDD\u5B58\u4F4D\u7F6E",ref:"serviceJsPath",name:"serviceJsPath"},{default:o(()=>[e(v,{value:n(t).vm.form.serviceJsPath,"onUpdate:value":r[7]||(r[7]=l=>n(t).vm.form.serviceJsPath=l),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1},512)]),_:1})]),_:1})]),_:1},8,["model"]),B("div",E,[e(b,{type:"primary",onClick:r[8]||(r[8]=l=>g.saveForm()),class:"mr-24"},{default:o(()=>[G]),_:1}),e(b,{type:"primary",onClick:r[9]||(r[9]=l=>g.autoImport()),danger:""},{default:o(()=>[K]),_:1})])])}}};var W=Object.freeze(Object.defineProperty({__proto__:null,default:M},Symbol.toStringTag,{value:"Module"}));export{W as C,M as _,C as s};
