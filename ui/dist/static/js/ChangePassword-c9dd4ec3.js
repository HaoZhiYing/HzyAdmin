var _=Object.defineProperty,b=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var w=(e,s,r)=>s in e?_(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,u=(e,s)=>{for(var r in s||(s={}))y.call(s,r)&&w(e,r,s[r]);if(f)for(var r of f(s))h.call(s,r)&&w(e,r,s[r]);return e},v=(e,s)=>b(e,q(s));import{_ as C,t as g}from"./index-856f78be.js";import{s as k}from"./personal_center_service-c3eaa77d.js";import{d as F,e as $,s as B,u as R,f as m,q as U,j as N,m as o,y as a,B as c}from"./vendor-e651fafa.js";const V=F({name:"system_change_password",setup(){const e=$(),s=B({vm:{oldPassword:"",newPassword:"",qrPassword:""}}),r={oldPassword:[{required:!0,message:"\u8BF7\u8F93\u5165\u65E7\u5BC6\u7801",trigger:"blur"},{min:3,max:20,message:"\u957F\u5EA6\u5728 3 \u81F3 20 \u4E4B\u95F4",trigger:"blur"}],newPassword:[{required:!0,message:"\u8BF7\u8F93\u5165\u65B0\u5BC6\u7801",trigger:"blur"},{min:3,max:20,message:"\u957F\u5EA6\u5728 3 \u81F3 20 \u4E4B\u95F4",trigger:"blur"}],qrPassword:[{required:!0,message:"\u8BF7\u8F93\u5165\u786E\u8BA4\u65B0\u5BC6\u7801",trigger:"blur"},{min:3,max:20,message:"\u957F\u5EA6\u5728 3 \u81F3 20 \u4E4B\u95F4",trigger:"blur"}]},i={saveForm(){e.value.validate().then(()=>{if(s.vm.newPassword!=s.vm.qrPassword)return g.message("\u4E24\u6B21\u5BC6\u7801\u4E0D\u4E00\u81F4!","\u8B66\u544A");k.changePassword(s.vm).then(l=>{l.code==1&&g.message("\u64CD\u4F5C\u6210\u529F!","\u6210\u529F")})}).catch(l=>{console.log("error",l)})},resetForm(){e.value.resetFields()}};return v(u(u({},R(s)),i),{rules:r,formRef:e})}}),j=c("\u63D0\u4EA4"),T=c("\u91CD\u7F6E");function z(e,s,r,i,l,A){const d=m("a-input"),n=m("a-form-item"),p=m("a-button"),P=m("a-form");return U(),N(P,{ref:"formRef",model:e.vm,rules:e.rules,layout:"vertical"},{default:o(()=>[a(n,{label:"\u65E7\u5BC6\u7801",name:"oldPassword"},{default:o(()=>[a(d,{value:e.vm.oldPassword,"onUpdate:value":s[0]||(s[0]=t=>e.vm.oldPassword=t),type:"password",placeholder:"\u65E7\u5BC6\u7801"},null,8,["value"])]),_:1}),a(n,{label:"\u65B0\u5BC6\u7801",name:"newPassword"},{default:o(()=>[a(d,{value:e.vm.newPassword,"onUpdate:value":s[1]||(s[1]=t=>e.vm.newPassword=t),type:"password",placeholder:"\u65B0\u5BC6\u7801"},null,8,["value"])]),_:1}),a(n,{label:"\u786E\u8BA4\u65B0\u5BC6\u7801",name:"qrPassword"},{default:o(()=>[a(d,{value:e.vm.qrPassword,"onUpdate:value":s[2]||(s[2]=t=>e.vm.qrPassword=t),type:"password",placeholder:"\u786E\u8BA4\u65B0\u5BC6\u7801"},null,8,["value"])]),_:1}),a(n,{"wrapper-col":{span:14}},{default:o(()=>[a(p,{type:"primary",onClick:e.saveForm},{default:o(()=>[j]),_:1},8,["onClick"]),a(p,{style:{"margin-left":"10px"},onClick:e.resetForm},{default:o(()=>[T]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model","rules"])}var I=C(V,[["render",z]]);export{I as default};
