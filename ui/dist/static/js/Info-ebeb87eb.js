var q=Object.defineProperty;var M=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var R=(n,o,l)=>o in n?q(n,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[o]=l,U=(n,o)=>{for(var l in o||(o={}))Y.call(o,l)&&R(n,l,o[l]);if(M)for(var l of M(o))x.call(o,l)&&R(n,l,o[l]);return n};import{b as w,p as $,t as F,_ as G,A as H,e as J}from"./index-4034f48f.js";import{d as W,a7 as X,h as Z,r as ee,w as te,t as ne,i as m,o as g,c as y,j as e,l as t,e as k,a8 as oe,q as s,s as le,k as A,Q as ae,R as ue}from"./vendor-c8880a38.js";const b="admin/SysMenu";var T={getMenus(){return w(`${b}/getMenus`)},findList(n,o,l={}){return $(`${b}/findList/${n}/${o}`,l,!1)},deleteList(n){return console.log(n),n&&n.length===0?F.message("\u8BF7\u9009\u62E9\u8981\u5220\u9664\u7684\u6570\u636E!","\u8B66\u544A"):$(`${b}/deleteList`,n,!1)},findForm(n){return w(`${b}/findForm${n?"/"+n:""}`)},saveForm(n){return $(`${b}/saveForm`,n)},getMenusFunctionTree(){return w(`${b}/getMenusFunctionTree`)},getAll(n={}){return $(`${b}/getAll`,n,!1)}};const se=W({name:"system_menu_info",props:{onSuccess:Function},components:{AppIcons:H,AppIconList:X(()=>J(()=>import("./AppIconList-23e95690.js"),["static/js/AppIconList-23e95690.js","static/css/AppIconList-3039fbc1.css","static/js/index-4034f48f.js","static/css/index-7b7851dc.css","static/js/vendor-c8880a38.js"]))},setup(n,o){const l=Z({vm:{id:"",form:{},allFunctions:[],menuFunctionList:[]},visible:!1,saveLoading:!1,parentId:null,checkAll:!1,indeterminate:!1,activeKey:ee("1")}),c={findForm(){l.saveLoading=!0,T.findForm(l.vm.id).then(u=>{l.saveLoading=!1,u.code==1&&(l.vm=u.data)})},saveForm(){if(l.vm.form.type==2&&l.vm.menuFunctionList.length==0)return F.message("\u8BF7\u8BBE\u7F6E\u529F\u80FD\u6A21\u5757!","\u8B66\u544A");if(l.vm.form.type==2&&l.vm.menuFunctionList.length>0){var u=l.vm.menuFunctionList;for(let d=0;d<u.length;d++){const i=u[d];if(!i.number)return F.message(`\u529F\u80FD\u6A21\u5757\u8BBE\u7F6E\u7B2C${d+1}\u884C \u8BF7\u586B\u5199\u5E8F\u53F7!`,"\u8B66\u544A");if(!i.functionCode)return F.message(`\u529F\u80FD\u6A21\u5757\u8BBE\u7F6E\u7B2C${d+1}\u884C \u8BF7\u586B\u5199\u529F\u80FD\u7F16\u7801!`,"\u8B66\u544A");if(!i.functionName)return F.message(`\u529F\u80FD\u6A21\u5757\u8BBE\u7F6E\u7B2C${d+1}\u884C \u8BF7\u586B\u5199\u529F\u80FD\u540D\u79F0!`,"\u8B66\u544A")}}l.saveLoading=!0,l.vm.form.parentId=l.parentId?l.parentId:null,T.saveForm(l.vm).then(d=>{l.saveLoading=!1,d.code==1&&(F.message("\u64CD\u4F5C\u6210\u529F!","\u6210\u529F"),o.emit("onSuccess",d.data),l.visible=!1)})},openForm({visible:u,key:d,parentId:i}){l.visible=u,u&&(l.vm.id=d,l.parentId=i,c.findForm())},onCheckAllChange(u){u.target.checked?l.vm.functionIds=l.vm.allFunctions.map(d=>d.id):l.vm.functionIds=[]},functionToMenuFunction(u){return{number:u.number,menuId:l.vm.id,functionCode:u.byName,functionName:u.name,remark:u.remark}},defaultRows(){l.vm.menuFunctionList=[],l.vm.allFunctions.forEach(u=>{c.addRow(c.functionToMenuFunction(u))})},defaultDisplayRows(){l.vm.menuFunctionList=[];var u=l.vm.allFunctions.filter(d=>d.byName=="Display");u.length>0&&l.vm.menuFunctionList.push(c.functionToMenuFunction(u[0]))},removeRow(u){var d=l.vm.menuFunctionList;l.vm.menuFunctionList=[];for(let i=0;i<d.length;i++){const v=d[i];i!=u&&l.vm.menuFunctionList.push(v)}},addRow(u){u?l.vm.menuFunctionList.push(u):(l.vm.menuFunctionList.push({number:0,menuId:l.vm.id,functionCode:"",functionName:"",remark:""}),console.log(l.vm.menuFunctionList))}};return te(()=>l.vm.functionIds,u=>{l.indeterminate=!!u.length&&u.length<l.vm.allFunctions.length,l.checkAll=u.length===l.vm.allFunctions.length}),o.expose(U({},c)),U(U({},ne(l)),c)}}),O=n=>(ae("data-v-84e0a492"),n=n(),ue(),n),me=s("\u63D0\u4EA4"),de=s("\u5173\u95ED"),ie=s("\u76EE\u5F55"),re=s("\u83DC\u5355"),fe=s(" \u83DC\u5355\u8DEF\u7531 \xA0\xA0 "),ve=s("\u8DF3\u8F6C\u5916\u90E8\u5730\u5740\u4F7F\u7528\u6B64\u8868\u8FBE\u5F0F\uFF1A/external/jump/:path(.*) \u3002\u5E76\u4E14\u8981\u5728\u8DF3\u8F6C\u5730\u5740\u586B\u4E0A\u5916\u90E8\u7F51\u5740"),pe=s(" \u8DF3\u8F6C\u5730\u5740 \xA0\xA0 "),_e=s("\u8DF3\u8F6C\u5730\u5740\uFF08\u4E0D\u586B\u9ED8\u8BA4\u4F7F\u7528 \u83DC\u5355\u8DEF\u7531\u5730\u5740\uFF09\u652F\u6301 http\u3001https"),ce=O(()=>A("a",{href:"https://next.antdv.com/components/icon-cn",target:"black"}," \u56FE\u6807\uFF08\u8BF7\u4F7F\u7528AntdV 3.0 \u5B98\u65B9icon\uFF09 ",-1)),ge=s(" \u663E\u793A\u72B6\u6001\xA0"),ye=O(()=>A("span",{class:"text-danger"},"\u9690\u85CF\u540E\u6B64\u83DC\u5355\u5C31\u53D8\u6210\u4E86\u8DEF\u7531",-1)),be=s("\xA0 "),he=s(" \u9690\u85CF\u540E\u83DC\u5355\u4E0D\u4F1A\u663E\u793A\u5728\u5DE6\u4FA7\u663E\u793A\uFF0C\u4F46\u662F\u8DEF\u7531\u4F1A\u81EA\u52A8\u6DFB\u52A0\u5230\u7A0B\u5E8F\u4E2D "),ke=s("\u663E\u793A"),Fe=s("\u9690\u85CF"),Le=s(" \u83DC\u5355\u72B6\u6001 \xA0\xA0 "),Ce=s("\u505C\u7528\u540E\u83DC\u5355\u4E0D\u4F1A\u663E\u793A\u5728\u5DE6\u4FA7\u663E\u793A\uFF0C\u5E76\u4E14\u8DEF\u7531\u4E5F\u4E0D\u4F1A\u81EA\u52A8\u6DFB\u52A0\u5230\u7A0B\u5E8F\u4E2D"),Ie=s("\u6B63\u5E38"),Ue=s("\u505C\u7528"),$e=s("\u662F"),we=s("\u5426"),Ae=s("\u662F"),Ne=s("\u5426"),Se=s("\u79FB\u9664"),Me={class:"text-center p-24"},Re=s("\u6DFB\u52A0\u4E00\u884C"),Te=s("\u4F7F\u7528\u9ED8\u8BA4\u529F\u80FD\u96C6"),Oe=s("\u4F7F\u7528\u663E\u793A\u529F\u80FD");function Ke(n,o,l,c,u,d){const i=m("a-button"),v=m("a-radio"),L=m("a-radio-group"),f=m("a-form-item"),r=m("a-col"),p=m("a-input"),C=m("AppIcons"),I=m("a-tooltip"),K=m("AppIconList"),V=m("a-dropdown"),N=m("a-row"),j=m("a-form"),S=m("a-tab-pane"),h=m("a-table-column"),D=m("a-input-number"),Q=m("a-popconfirm"),B=m("a-table"),E=m("a-tabs"),z=m("a-spin"),P=m("a-modal");return g(),y(P,{visible:n.visible,"onUpdate:visible":o[18]||(o[18]=a=>n.visible=a),title:n.vm.id?"\u7F16\u8F91":"\u65B0\u5EFA",centered:"",onOk:o[19]||(o[19]=a=>n.visible=!1),width:"1000px",bodyStyle:{overflowY:"auto",height:"calc(100vh - 150px)"}},{footer:e(()=>[t(i,{type:"primary",onClick:o[0]||(o[0]=a=>n.saveForm()),loading:n.saveLoading},{default:e(()=>[me]),_:1},8,["loading"]),t(i,{type:"danger",ghost:"",onClick:o[1]||(o[1]=a=>n.visible=!1),class:"ml-24"},{default:e(()=>[de]),_:1})]),default:e(()=>[t(z,{spinning:n.saveLoading},{default:e(()=>[t(E,{activeKey:n.activeKey,"onUpdate:activeKey":o[17]||(o[17]=a=>n.activeKey=a)},{default:e(()=>[t(S,{key:"1",tab:"\u57FA\u7840\u6570\u636E\u8BBE\u7F6E"},{default:e(()=>[t(j,{layout:"vertical",model:n.vm.form},{default:e(()=>[t(N,{gutter:[24,24]},{default:e(()=>[t(r,{xs:24,sm:12,md:12,lg:12,xl:12},{default:e(()=>[t(f,{label:"\u9009\u9879\u7C7B\u578B"},{default:e(()=>[t(L,{value:n.vm.form.type,"onUpdate:value":o[2]||(o[2]=a=>n.vm.form.type=a)},{default:e(()=>[t(v,{value:1},{default:e(()=>[ie]),_:1}),t(v,{value:2},{default:e(()=>[re]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),t(r,{xs:24,sm:12,md:12,lg:12,xl:12},{default:e(()=>[t(f,{label:"\u83DC\u5355Id"},{default:e(()=>[t(p,{value:n.vm.form.id,"onUpdate:value":o[3]||(o[3]=a=>n.vm.form.id=a),placeholder:"\u8BF7\u8F93\u5165",readonly:""},null,8,["value"])]),_:1})]),_:1}),t(r,{xs:24,sm:12,md:12,lg:12,xl:12},{default:e(()=>[t(f,{label:"\u7F16\u53F7"},{default:e(()=>[t(p,{value:n.vm.form.number,"onUpdate:value":o[4]||(o[4]=a=>n.vm.form.number=a),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1})]),_:1}),t(r,{xs:24,sm:12,md:12,lg:12,xl:12},{default:e(()=>[t(f,{label:"\u83DC\u5355\u540D\u79F0"},{default:e(()=>[t(p,{value:n.vm.form.name,"onUpdate:value":o[5]||(o[5]=a=>n.vm.form.name=a),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1})]),_:1}),n.vm.form.type==2?(g(),y(r,{key:0,xs:24,sm:12,md:12,lg:12,xl:12},{default:e(()=>[t(f,{label:"\u7EC4\u4EF6\u540D\u79F0"},{default:e(()=>[t(p,{value:n.vm.form.componentName,"onUpdate:value":o[6]||(o[6]=a=>n.vm.form.componentName=a),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1})]),_:1})):k("",!0),n.vm.form.type==2?(g(),y(r,{key:1,xs:24,sm:12,md:12,lg:12,xl:12},{default:e(()=>[t(f,{label:"\u83DC\u5355\u9875\u9762\u7269\u7406\u5730\u5740"},{default:e(()=>[t(p,{value:n.vm.form.url,"onUpdate:value":o[7]||(o[7]=a=>n.vm.form.url=a),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1})]),_:1})):k("",!0),n.vm.form.type==2?(g(),y(r,{key:2,xs:24,sm:12,md:12,lg:12,xl:12},{default:e(()=>[t(f,null,{label:e(()=>[fe,t(I,null,{title:e(()=>[ve]),default:e(()=>[t(C,{name:"QuestionCircleOutlined",class:"text-danger"})]),_:1})]),default:e(()=>[t(p,{value:n.vm.form.router,"onUpdate:value":o[8]||(o[8]=a=>n.vm.form.router=a),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1})]),_:1})):k("",!0),n.vm.form.type==2?(g(),y(r,{key:3,xs:24,sm:12,md:12,lg:12,xl:12},{default:e(()=>[t(f,null,{label:e(()=>[pe,t(I,null,{title:e(()=>[_e]),default:e(()=>[t(C,{name:"QuestionCircleOutlined",class:"text-danger"})]),_:1})]),default:e(()=>[t(p,{value:n.vm.form.jumpUrl,"onUpdate:value":o[9]||(o[9]=a=>n.vm.form.jumpUrl=a),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1})]),_:1})):k("",!0),t(r,{xs:24,sm:12,md:12,lg:12,xl:12},{default:e(()=>[t(f,null,{label:e(()=>[ce]),default:e(()=>[t(V,null,{overlay:e(()=>[t(K,{name:n.vm.form.icon,"onUpdate:name":o[11]||(o[11]=a=>n.vm.form.icon=a),class:"AppIconList"},null,8,["name"])]),default:e(()=>[t(p,{value:n.vm.form.icon,"onUpdate:value":o[10]||(o[10]=a=>n.vm.form.icon=a),placeholder:"\u8BF7\u8F93\u5165"},oe({_:2},[n.vm.form.icon?{name:"suffix",fn:e(()=>[t(C,{name:n.vm.form.icon},null,8,["name"])])}:void 0]),1032,["value"])]),_:1})]),_:1})]),_:1}),n.vm.form.type==2?(g(),y(r,{key:4,xs:24},{default:e(()=>[t(N,{style:{width:"100%"}},{default:e(()=>[t(r,{xs:24,sm:12,md:12,lg:12,xl:12},{default:e(()=>[t(f,null,{label:e(()=>[ge,ye,be,t(I,null,{title:e(()=>[he]),default:e(()=>[t(C,{name:"QuestionCircleOutlined",class:"text-danger"})]),_:1})]),default:e(()=>[t(L,{value:n.vm.form.show,"onUpdate:value":o[12]||(o[12]=a=>n.vm.form.show=a)},{default:e(()=>[t(v,{value:!0},{default:e(()=>[ke]),_:1}),t(v,{value:!1},{default:e(()=>[Fe]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),t(r,{xs:24,sm:12,md:12,lg:12,xl:12},{default:e(()=>[t(f,null,{label:e(()=>[Le,t(I,null,{title:e(()=>[Ce]),default:e(()=>[t(C,{name:"QuestionCircleOutlined",class:"text-danger"})]),_:1})]),default:e(()=>[t(L,{value:n.vm.form.state,"onUpdate:value":o[13]||(o[13]=a=>n.vm.form.state=a)},{default:e(()=>[t(v,{value:!0},{default:e(()=>[Ie]),_:1}),t(v,{value:!1},{default:e(()=>[Ue]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),t(r,{xs:24,sm:12,md:12,lg:12,xl:12},{default:e(()=>[t(f,{label:"\u662F\u5426\u7F13\u5B58\u7EC4\u4EF6"},{default:e(()=>[t(L,{value:n.vm.form.keepAlive,"onUpdate:value":o[14]||(o[14]=a=>n.vm.form.keepAlive=a)},{default:e(()=>[t(v,{value:!0},{default:e(()=>[$e]),_:1}),t(v,{value:!1},{default:e(()=>[we]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),t(r,{xs:24,sm:12,md:12,lg:12,xl:12},{default:e(()=>[t(f,{label:"\u9009\u9879\u5361\u80FD\u5426\u5173\u95ED"},{default:e(()=>[t(L,{value:n.vm.form.close,"onUpdate:value":o[15]||(o[15]=a=>n.vm.form.close=a)},{default:e(()=>[t(v,{value:!0},{default:e(()=>[Ae]),_:1}),t(v,{value:!1},{default:e(()=>[Ne]),_:1})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1})]),_:1})):k("",!0)]),_:1})]),_:1},8,["model"])]),_:1}),n.vm.form.type==2?(g(),y(S,{key:"2",tab:"\u529F\u80FD\u6A21\u5757\u8BBE\u7F6E","force-render":""},{default:e(()=>[t(B,{"data-source":n.vm.menuFunctionList,size:"small",pagination:!1},{default:e(()=>[t(h,{key:"index",title:"\u7D22\u5F15"},{default:e(({index:a})=>[s(le(a+1),1)]),_:1}),t(h,{key:"number",title:"\u5E8F\u53F7","data-index":"number"},{default:e(({record:a})=>[t(D,{value:a.number,"onUpdate:value":_=>a.number=_,min:1,max:500},null,8,["value","onUpdate:value"])]),_:1}),t(h,{key:"functionCode",title:"\u529F\u80FD\u7F16\u7801","data-index":"functionCode"},{default:e(({record:a})=>[t(p,{value:a.functionCode,"onUpdate:value":_=>a.functionCode=_,placeholder:"\u529F\u80FD\u7F16\u7801"},null,8,["value","onUpdate:value"])]),_:1}),t(h,{key:"functionName",title:"\u529F\u80FD\u540D\u79F0","data-index":"functionName"},{default:e(({record:a})=>[t(p,{value:a.functionName,"onUpdate:value":_=>a.functionName=_,placeholder:"\u529F\u80FD\u7F16\u7801"},null,8,["value","onUpdate:value"])]),_:1}),t(h,{key:"remark",title:"\u5907\u6CE8","data-index":"remark"},{default:e(({record:a})=>[t(p,{value:a.remark,"onUpdate:value":_=>a.remark=_,placeholder:"\u529F\u80FD\u7F16\u7801"},null,8,["value","onUpdate:value"])]),_:1}),t(h,{key:"action",title:"\u64CD\u4F5C"},{default:e(({index:a})=>[t(Q,{title:"\u786E\u5B9A\u8981\u79FB\u9664\u5417\uFF1F","ok-text":"\u662F","cancel-text":"\u5426",onConfirm:_=>n.removeRow(a)},{default:e(()=>[t(i,{type:"link",danger:""},{default:e(()=>[Se]),_:1})]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data-source"]),A("div",Me,[t(i,{type:"primary",onClick:o[16]||(o[16]=a=>n.addRow())},{default:e(()=>[Re]),_:1}),t(i,{class:"ml-24",onClick:n.defaultRows},{default:e(()=>[Te]),_:1},8,["onClick"]),t(i,{class:"ml-24",onClick:n.defaultDisplayRows},{default:e(()=>[Oe]),_:1},8,["onClick"])])]),_:1})):k("",!0)]),_:1},8,["activeKey"])]),_:1},8,["spinning"])]),_:1},8,["visible","title","bodyStyle"])}var Ve=G(se,[["render",Ke],["__scopeId","data-v-84e0a492"]]),Be=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ve});export{Ve as I,Be as a,T as s};
