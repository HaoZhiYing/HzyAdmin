var q=Object.defineProperty,y=Object.defineProperties;var h=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var v=(e,s,o)=>s in e?q(e,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[s]=o,p=(e,s)=>{for(var o in s||(s={}))C.call(s,o)&&v(e,o,s[o]);if(w)for(var o of w(s))k.call(s,o)&&v(e,o,s[o]);return e},_=(e,s)=>y(e,h(s));import{_ as F,t as c}from"./index-50f2dd5e.js";import{s as $}from"./personal_center_service-2130f017.js";import{d as x,e as B,s as R,u as U,f as t,q as N,j as V,m as a,y as r,B as g}from"./vendor-4ca571b9.js";const j=x({name:"system_change_password",setup(){const e=B(),s=R({vm:{oldPassword:"",newPassword:"",qrPassword:""}}),o={oldPassword:[{required:!0,message:"\u8BF7\u8F93\u5165\u65E7\u5BC6\u7801",trigger:"blur"},{min:3,max:20,message:"\u957F\u5EA6\u5728 3 \u81F3 20 \u4E4B\u95F4",trigger:"blur"}],newPassword:[{required:!0,message:"\u8BF7\u8F93\u5165\u65B0\u5BC6\u7801",trigger:"blur"},{min:3,max:20,message:"\u957F\u5EA6\u5728 3 \u81F3 20 \u4E4B\u95F4",trigger:"blur"}],qrPassword:[{required:!0,message:"\u8BF7\u8F93\u5165\u786E\u8BA4\u65B0\u5BC6\u7801",trigger:"blur"},{min:3,max:20,message:"\u957F\u5EA6\u5728 3 \u81F3 20 \u4E4B\u95F4",trigger:"blur"}]},i={saveForm(){e.value.validate().then(()=>{if(s.vm.newPassword!=s.vm.qrPassword)return c.message("\u4E24\u6B21\u5BC6\u7801\u4E0D\u4E00\u81F4!","\u8B66\u544A");$.changePassword(s.vm).then(n=>{n.code==1&&c.message("\u64CD\u4F5C\u6210\u529F!","\u6210\u529F")})}).catch(n=>{console.log("error",n)})},resetForm(){e.value.resetFields()}};return _(p(p({},U(s)),i),{rules:o,formRef:e})}}),T=g("\u63D0\u4EA4"),z=g("\u91CD\u7F6E");function A(e,s,o,i,n,D){const u=t("a-input"),d=t("a-form-item"),m=t("a-col"),f=t("a-button"),P=t("a-row"),b=t("a-form");return N(),V(b,{layout:"vertical",ref:"formRef",model:e.vm,rules:e.rules},{default:a(()=>[r(P,{gutter:[15,15]},{default:a(()=>[r(m,{xs:24},{default:a(()=>[r(d,{label:"\u65E7\u5BC6\u7801",name:"oldPassword"},{default:a(()=>[r(u,{value:e.vm.oldPassword,"onUpdate:value":s[0]||(s[0]=l=>e.vm.oldPassword=l),type:"password",placeholder:"\u65E7\u5BC6\u7801"},null,8,["value"])]),_:1})]),_:1}),r(m,{xs:24},{default:a(()=>[r(d,{label:"\u65B0\u5BC6\u7801",name:"newPassword"},{default:a(()=>[r(u,{value:e.vm.newPassword,"onUpdate:value":s[1]||(s[1]=l=>e.vm.newPassword=l),type:"password",placeholder:"\u65B0\u5BC6\u7801"},null,8,["value"])]),_:1})]),_:1}),r(m,{xs:24},{default:a(()=>[r(d,{label:"\u786E\u8BA4\u65B0\u5BC6\u7801",name:"qrPassword"},{default:a(()=>[r(u,{value:e.vm.qrPassword,"onUpdate:value":s[2]||(s[2]=l=>e.vm.qrPassword=l),type:"password",placeholder:"\u786E\u8BA4\u65B0\u5BC6\u7801"},null,8,["value"])]),_:1})]),_:1}),r(m,{xs:24},{default:a(()=>[r(d,{"wrapper-col":{span:14}},{default:a(()=>[r(f,{type:"primary",onClick:e.saveForm},{default:a(()=>[T]),_:1},8,["onClick"]),r(f,{style:{"margin-left":"10px"},onClick:e.resetForm},{default:a(()=>[z]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])}var J=F(j,[["render",A]]);export{J as default};
