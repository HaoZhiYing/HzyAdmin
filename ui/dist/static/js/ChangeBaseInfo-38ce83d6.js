var N=Object.defineProperty,C=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var _=(a,e,l)=>e in a?N(a,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[e]=l,i=(a,e)=>{for(var l in e||(e={}))F.call(e,l)&&_(a,l,e[l]);if(v)for(var l of v(e))U.call(e,l)&&_(a,l,e[l]);return a},c=(a,e)=>C(a,q(e));import{_ as k,a as w,t as y}from"./index-af5e2f14.js";import{s as B}from"./personal_center_service-0e10e133.js";import{d as I,c as $,e as R,s as S,u as V,f as s,q as j,j as A,m as n,y as o,B as T}from"./vendor-4ca571b9.js";const z=I({name:"change_base_info",setup(){const a=w(),e=$(()=>a.state.userInfo).value,l=R(),p=S({vm:{name:e.name,loginName:e.loginName,phone:e.phone,email:e.email}}),d={name:[{required:!0,message:"\u8BF7\u8F93\u5165\u771F\u5B9E\u59D3\u540D",trigger:"blur"}],loginName:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u6237\u540D\u79F0",trigger:"blur"}],phone:[{required:!0,message:"\u8BF7\u8F93\u5165\u8054\u7CFB\u7535\u8BDD",trigger:"blur"}],email:[{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u7BB1",trigger:"blur"}]},f={saveForm(){l.value.validate().then(()=>{B.saveForm(p.vm).then(r=>{r.code==1&&a.refreshUserInfo().then(()=>{y.message("\u64CD\u4F5C\u6210\u529F!","\u6210\u529F")})})}).catch(r=>{console.log("error",r)})},resetForm(){l.value.resetFields()}};return c(i(i({},V(p)),f),{rules:d,formRef:l})}}),D=T("\u63D0\u4EA4");function E(a,e,l,p,d,f){const r=s("a-input"),m=s("a-form-item"),u=s("a-col"),g=s("a-button"),h=s("a-row"),b=s("a-form");return j(),A(b,{layout:"vertical",ref:"formRef",model:a.vm,rules:a.rules},{default:n(()=>[o(h,{gutter:[15,15]},{default:n(()=>[o(u,{xs:24},{default:n(()=>[o(m,{label:"\u771F\u5B9E\u59D3\u540D",name:"name"},{default:n(()=>[o(r,{value:a.vm.name,"onUpdate:value":e[0]||(e[0]=t=>a.vm.name=t),placeholder:"\u771F\u5B9E\u59D3\u540D"},null,8,["value"])]),_:1})]),_:1}),o(u,{xs:24},{default:n(()=>[o(m,{label:"\u8D26\u6237\u540D\u79F0",name:"loginName"},{default:n(()=>[o(r,{value:a.vm.loginName,"onUpdate:value":e[1]||(e[1]=t=>a.vm.loginName=t),placeholder:"\u8D26\u6237\u540D\u79F0"},null,8,["value"])]),_:1})]),_:1}),o(u,{xs:24},{default:n(()=>[o(m,{label:"\u8054\u7CFB\u7535\u8BDD",name:"phone"},{default:n(()=>[o(r,{value:a.vm.phone,"onUpdate:value":e[2]||(e[2]=t=>a.vm.phone=t),placeholder:"\u8054\u7CFB\u7535\u8BDD"},null,8,["value"])]),_:1})]),_:1}),o(u,{xs:24},{default:n(()=>[o(m,{label:"\u90AE\u7BB1",name:"email"},{default:n(()=>[o(r,{value:a.vm.email,"onUpdate:value":e[3]||(e[3]=t=>a.vm.email=t),placeholder:"\u90AE\u7BB1"},null,8,["value"])]),_:1})]),_:1}),o(u,{xs:24},{default:n(()=>[o(m,{"wrapper-col":{span:14}},{default:n(()=>[o(g,{type:"primary",onClick:a.saveForm},{default:n(()=>[D]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])}var L=k(z,[["render",E]]);export{L as default};
