var h=Object.defineProperty,b=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var v=(a,e,o)=>e in a?h(a,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[e]=o,i=(a,e)=>{for(var o in e||(e={}))C.call(e,o)&&v(a,o,e[o]);if(f)for(var o of f(e))q.call(e,o)&&v(a,o,e[o]);return a},g=(a,e)=>b(a,N(e));import{_ as F,a as U,t as k}from"./index-ea35a67a.js";import{s as y}from"./personal_center_service-fb596ca0.js";import{d as B,c as I,e as $,s as R,u as w,f as m,q as S,j as V,m as t,y as r,B as j}from"./vendor-e651fafa.js";const A=B({name:"change_base_info",setup(){const a=U(),e=I(()=>a.state.userInfo).value,o=$(),u=R({vm:{name:e.name,loginName:e.loginName,phone:e.phone,email:e.email}}),p={name:[{required:!0,message:"\u8BF7\u8F93\u5165\u771F\u5B9E\u59D3\u540D",trigger:"blur"}],loginName:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u6237\u540D\u79F0",trigger:"blur"}],phone:[{required:!0,message:"\u8BF7\u8F93\u5165\u8054\u7CFB\u7535\u8BDD",trigger:"blur"}],email:[{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u7BB1",trigger:"blur"}]},d={saveForm(){o.value.validate().then(()=>{y.saveForm(u.vm).then(n=>{n.code==1&&a.refreshUserInfo().then(()=>{k.message("\u64CD\u4F5C\u6210\u529F!","\u6210\u529F")})})}).catch(n=>{console.log("error",n)})},resetForm(){o.value.resetFields()}};return g(i(i({},w(u)),d),{rules:p,formRef:o})}}),T=j("\u63D0\u4EA4");function z(a,e,o,u,p,d){const n=m("a-input"),s=m("a-form-item"),c=m("a-button"),_=m("a-form");return S(),V(_,{ref:"formRef",model:a.vm,rules:a.rules,layout:"vertical"},{default:t(()=>[r(s,{label:"\u771F\u5B9E\u59D3\u540D",name:"name"},{default:t(()=>[r(n,{value:a.vm.name,"onUpdate:value":e[0]||(e[0]=l=>a.vm.name=l),placeholder:"\u771F\u5B9E\u59D3\u540D"},null,8,["value"])]),_:1}),r(s,{label:"\u8D26\u6237\u540D\u79F0",name:"loginName"},{default:t(()=>[r(n,{value:a.vm.loginName,"onUpdate:value":e[1]||(e[1]=l=>a.vm.loginName=l),placeholder:"\u8D26\u6237\u540D\u79F0"},null,8,["value"])]),_:1}),r(s,{label:"\u8054\u7CFB\u7535\u8BDD",name:"phone"},{default:t(()=>[r(n,{value:a.vm.phone,"onUpdate:value":e[2]||(e[2]=l=>a.vm.phone=l),placeholder:"\u8054\u7CFB\u7535\u8BDD"},null,8,["value"])]),_:1}),r(s,{label:"\u90AE\u7BB1",name:"email"},{default:t(()=>[r(n,{value:a.vm.email,"onUpdate:value":e[3]||(e[3]=l=>a.vm.email=l),placeholder:"\u90AE\u7BB1"},null,8,["value"])]),_:1}),r(s,{"wrapper-col":{span:14}},{default:t(()=>[r(c,{type:"primary",onClick:a.saveForm},{default:t(()=>[T]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model","rules"])}var J=F(A,[["render",z]]);export{J as default};
