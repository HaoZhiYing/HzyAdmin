var P=Object.defineProperty,T=Object.defineProperties;var V=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var w=(a,e,n)=>e in a?P(a,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[e]=n,p=(a,e)=>{for(var n in e||(e={}))j.call(e,n)&&w(a,n,e[n]);if(F)for(var n of F(e))D.call(e,n)&&w(a,n,e[n]);return a},U=(a,e)=>T(a,V(e));import{_ as E,s as N,t as $}from"./index-cd10d498.js";import{d as H,h as O,r as h,t as A,i as r,o as i,c as k,j as o,l,p as c,x as z,q as g,s as C,F as R,H as G}from"./vendor-c8880a38.js";const J=H({name:"system_user_info",props:{onSuccess:Function},setup(a,e){const n=O({vm:{id:"",form:{},roleIds:[],allRoleList:[],allPostList:[]},visible:!1,saveLoading:!1,organizationId:null}),v=h(),I={name:[{required:!0,message:"\u8BF7\u8F93\u5165\u771F\u5B9E\u59D3\u540D",trigger:"blur"}],loginName:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u6237\u540D\u79F0",trigger:"blur"}]},f={findForm(){n.saveLoading=!0,N.findForm(n.vm.id).then(t=>{n.saveLoading=!1,t.code==1&&(n.vm=t.data,n.vm.form.password="")})},saveForm(){if(!n.organizationId)return $.message("\u8BF7\u9009\u62E9\u7EC4\u7EC7","\u8B66\u544A");v.value.validate().then(()=>{n.saveLoading=!0,n.vm.form.organizationId=n.organizationId,N.saveForm(n.vm).then(t=>{t.code==1&&($.message("\u64CD\u4F5C\u6210\u529F!","\u6210\u529F"),e.emit("onSuccess",t.data),n.visible=!1)}).finally(()=>{n.saveLoading=!1})})},openForm({visible:t,key:u,organizationId:m}){n.visible=t,t&&(n.vm.id=u,n.organizationId=m,G(()=>{v.value.resetFields()}),f.findForm())}};return e.expose(p({},f)),U(p(p({},A(n)),f),{rules:I,formRef:v})}}),K=g("\u63D0\u4EA4"),M=g("\u5173\u95ED");function Q(a,e,n,v,I,f){const t=r("a-button"),u=r("a-input"),m=r("a-form-item"),d=r("a-col"),L=r("a-checkbox"),_=r("a-row"),y=r("a-checkbox-group"),q=r("a-form"),B=r("a-spin"),S=r("a-modal");return i(),k(S,{visible:a.visible,"onUpdate:visible":e[9]||(e[9]=s=>a.visible=s),title:a.vm.id?"\u7F16\u8F91":"\u65B0\u5EFA",centered:"",onOk:e[10]||(e[10]=s=>a.visible=!1),width:800},{footer:o(()=>[l(t,{type:"primary",onClick:e[0]||(e[0]=s=>a.saveForm()),loading:a.saveLoading},{default:o(()=>[K]),_:1},8,["loading"]),l(t,{type:"danger",ghost:"",onClick:e[1]||(e[1]=s=>a.visible=!1),class:"ml-24"},{default:o(()=>[M]),_:1})]),default:o(()=>[l(B,{spinning:a.saveLoading},{default:o(()=>[l(q,{ref:"formRef",layout:"vertical",model:a.vm.form,rules:a.rules},{default:o(()=>[l(_,{gutter:[24,24]},{default:o(()=>[l(d,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[l(m,{label:"\u771F\u5B9E\u59D3\u540D",ref:"name",name:"name"},{default:o(()=>[l(u,{value:a.vm.form.name,"onUpdate:value":e[2]||(e[2]=s=>a.vm.form.name=s),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1},512)]),_:1}),l(d,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[l(m,{label:"\u8D26\u6237\u540D\u79F0",ref:"loginName",name:"loginName"},{default:o(()=>[l(u,{value:a.vm.form.loginName,"onUpdate:value":e[3]||(e[3]=s=>a.vm.form.loginName=s),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1},512)]),_:1}),l(d,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[l(m,{label:"\u8D26\u6237\u5BC6\u7801"},{default:o(()=>[l(u,{value:a.vm.form.password,"onUpdate:value":e[4]||(e[4]=s=>a.vm.form.password=s),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1})]),_:1}),l(d,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[l(m,{label:"\u8054\u7CFB\u7535\u8BDD"},{default:o(()=>[l(u,{value:a.vm.form.phone,"onUpdate:value":e[5]||(e[5]=s=>a.vm.form.phone=s),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1})]),_:1}),l(d,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[l(m,{label:"\u90AE\u7BB1\u5730\u5740"},{default:o(()=>[l(u,{value:a.vm.form.email,"onUpdate:value":e[6]||(e[6]=s=>a.vm.form.email=s),placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1})]),_:1}),l(d,{xs:24,sm:24,md:24,lg:24,xl:24},{default:o(()=>[l(m,{label:"\u6240\u5C5E\u5C97\u4F4D"},{default:o(()=>[l(y,{value:a.vm.postIds,"onUpdate:value":e[7]||(e[7]=s=>a.vm.postIds=s),class:"w100"},{default:o(()=>[l(_,null,{default:o(()=>[(i(!0),c(R,null,z(a.vm.allPostList,(s,b)=>(i(),k(d,{span:6,key:b},{default:o(()=>[l(L,{value:s.id},{default:o(()=>[g(C(s.name),1)]),_:2},1032,["value"])]),_:2},1024))),128))]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),l(d,{xs:24},{default:o(()=>[l(m,{label:"\u6240\u5C5E\u89D2\u8272"},{default:o(()=>[l(y,{value:a.vm.roleIds,"onUpdate:value":e[8]||(e[8]=s=>a.vm.roleIds=s),class:"w100"},{default:o(()=>[l(_,null,{default:o(()=>[(i(!0),c(R,null,z(a.vm.allRoleList,(s,b)=>(i(),k(d,{span:6,key:b},{default:o(()=>[l(L,{value:s.id},{default:o(()=>[g(C(s.name),1)]),_:2},1032,["value"])]),_:2},1024))),128))]),_:1})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["spinning"])]),_:1},8,["visible","title"])}var Z=E(J,[["render",Q],["__scopeId","data-v-184d25c3"]]);export{Z as default};
