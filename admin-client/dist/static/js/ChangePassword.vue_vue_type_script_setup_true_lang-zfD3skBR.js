import{d as c,b as P,r as b,f as t,o as x,l as q,w as r,a as e,j as w,T as i}from"./index-cV5RpzD5.js";import{P as y}from"./PersonalCenterService-uIg8qQZ1.js";const T=c({name:"system_change_password",__name:"ChangePassword",setup(C){const d=P(),s=b({vm:{oldPassword:"",newPassword:"",qrPassword:""}}),_={oldPassword:[{required:!0,message:"请输入旧密码",trigger:"blur"},{min:3,max:20,message:"长度在 3 至 20 之间",trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:3,max:20,message:"长度在 3 至 20 之间",trigger:"blur"}],qrPassword:[{required:!0,message:"请输入确认新密码",trigger:"blur"},{min:3,max:20,message:"长度在 3 至 20 之间",trigger:"blur"}]};function f(){var m;(m=d.value)==null||m.validate().then(()=>{if(s.vm.newPassword!=s.vm.qrPassword)return i.message.warning("两次密码不一致!");y.changePassword(s.vm).then(a=>{a.code==200&&i.message.success("操作成功!")})})}return(m,a)=>{const u=t("a-input"),n=t("a-form-item"),l=t("a-col"),p=t("a-button"),v=t("a-row"),g=t("a-form");return x(),q(g,{layout:"vertical",ref_key:"refForm",ref:d,model:s.vm,rules:_},{default:r(()=>[e(v,{gutter:[16,0]},{default:r(()=>[e(l,{xs:24},{default:r(()=>[e(n,{label:"旧密码",name:"oldPassword"},{default:r(()=>[e(u,{value:s.vm.oldPassword,"onUpdate:value":a[0]||(a[0]=o=>s.vm.oldPassword=o),type:"password",placeholder:"旧密码"},null,8,["value"])]),_:1})]),_:1}),e(l,{xs:24},{default:r(()=>[e(n,{label:"新密码",name:"newPassword"},{default:r(()=>[e(u,{value:s.vm.newPassword,"onUpdate:value":a[1]||(a[1]=o=>s.vm.newPassword=o),type:"password",placeholder:"新密码"},null,8,["value"])]),_:1})]),_:1}),e(l,{xs:24},{default:r(()=>[e(n,{label:"确认新密码",name:"qrPassword"},{default:r(()=>[e(u,{value:s.vm.qrPassword,"onUpdate:value":a[2]||(a[2]=o=>s.vm.qrPassword=o),type:"password",placeholder:"确认新密码"},null,8,["value"])]),_:1})]),_:1}),e(l,{xs:24},{default:r(()=>[e(n,{"wrapper-col":{span:14}},{default:r(()=>[e(p,{type:"primary",onClick:a[3]||(a[3]=o=>f())},{default:r(()=>[w("提交")]),_:1}),e(p,{style:{"margin-left":"10px"},onClick:a[4]||(a[4]=()=>{var o;return(o=d.value)==null?void 0:o.resetFields()})},{default:r(()=>[w("重置")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])}}});export{T as _};
