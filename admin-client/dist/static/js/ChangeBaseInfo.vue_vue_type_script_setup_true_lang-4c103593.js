import{d as v,A as x,m as N,b as h,r as w,f as n,o as C,l as U,w as a,u as k,a as e,i as q,T as y}from"./index-ceef6588.js";import{P as F}from"./PersonalCenterService-eef2e123.js";const I=v({name:"change_base_info"}),B=v({...I,setup(S){const i=x(),u=N(()=>i.state.userInfo),f=h(),l=w({vm:{name:u.value.name,loginName:u.value.loginName,phone:u.value.phone,email:u.value.email}}),_={name:[{required:!0,message:"请输入真实姓名",trigger:"blur"}],loginName:[{required:!0,message:"请输入账户名称",trigger:"blur"}],phone:[{required:!0,message:"请输入联系电话",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"}]};function d(){var p;(p=f.value)==null||p.validate().then(()=>{F.saveForm(l.vm).then(o=>{o.code==1&&i.refreshUserInfo().then(()=>{y.message.success("操作成功!")})})})}return(p,o)=>{const s=n("a-input"),r=n("a-form-item"),m=n("a-col"),c=n("a-button"),g=n("a-row"),b=n("a-form");return C(),U(b,{layout:"vertical",ref_key:"refForm",ref:f,model:l.vm,rules:k(_)},{default:a(()=>[e(g,{gutter:[16,0]},{default:a(()=>[e(m,{xs:24},{default:a(()=>[e(r,{label:"真实姓名",name:"name"},{default:a(()=>[e(s,{value:l.vm.name,"onUpdate:value":o[0]||(o[0]=t=>l.vm.name=t),placeholder:"真实姓名"},null,8,["value"])]),_:1})]),_:1}),e(m,{xs:24},{default:a(()=>[e(r,{label:"账户名称",name:"loginName"},{default:a(()=>[e(s,{value:l.vm.loginName,"onUpdate:value":o[1]||(o[1]=t=>l.vm.loginName=t),placeholder:"账户名称"},null,8,["value"])]),_:1})]),_:1}),e(m,{xs:24},{default:a(()=>[e(r,{label:"联系电话",name:"phone"},{default:a(()=>[e(s,{value:l.vm.phone,"onUpdate:value":o[2]||(o[2]=t=>l.vm.phone=t),placeholder:"联系电话"},null,8,["value"])]),_:1})]),_:1}),e(m,{xs:24},{default:a(()=>[e(r,{label:"邮箱",name:"email"},{default:a(()=>[e(s,{value:l.vm.email,"onUpdate:value":o[3]||(o[3]=t=>l.vm.email=t),placeholder:"邮箱"},null,8,["value"])]),_:1})]),_:1}),e(m,{xs:24},{default:a(()=>[e(r,{"wrapper-col":{span:14}},{default:a(()=>[e(c,{type:"primary",onClick:o[4]||(o[4]=t=>d())},{default:a(()=>[q("提交")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])}}});export{B as _};
