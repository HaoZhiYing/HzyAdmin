var P=Object.defineProperty;var b=(s,e,t)=>e in s?P(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var f=(s,e,t)=>(b(s,typeof e!="symbol"?e+"":e,t),t);import{H as N,d as z,r as S,b as m,A,e as I,T as c,f as u,o as L,c as C,g as o,t as $,u as B,a as r,w as d,h as T,i as U,j as V,p as H,k as K}from"./index-1d3290fc.js";import{_ as v}from"./AppIcon.vue_vue_type_script_setup_true_lang-5c9d9d70.js";import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";const j="/client/static/png/info_service-1fcbd48d.png";class g{static login(e,t){return N.post(`${this.urlPrefix}/Login`,{userName:e,userPassword:t})}}f(g,"urlPrefix","/api/v1/identity/Account");const D=s=>(H("data-v-3f4c15b2"),s=s(),K(),s),E={class:"login"},M={class:"login-card"},q=D(()=>o("div",{class:"flex-left"},[o("img",{src:j,alt:""})],-1)),F={class:"flex-right p-30"},G={class:"title"},J={class:"mt-16"},Q={class:"mt-16"},R={class:"mt-40"},W=z({__name:"Login",setup(s){const e=S({userName:"admin",userPassword:"123456"}),t=m(null),i=m(!1),p=A(),w=p.state.title;I(()=>{h(),t.value.focus()});async function _(){if(!e.userName)return c.message.warning("用户名不能为空!");if(!e.userPassword)return c.message.warning("密码不能为空!");try{i.value=!0;const l=await g.login(e.userName,e.userPassword);if(i.value=!1,l.code!=1)return;c.setAuthorization(l.data.token),V.push("/")}catch{i.value=!1}}function h(){c.removeAuthorization(),p.resetInfo()}return(l,a)=>{const x=u("a-input"),y=u("a-input-password"),k=u("a-button");return L(),C("div",null,[o("div",E,[o("div",M,[q,o("div",F,[o("div",G,$(B(w)),1),o("div",J,[r(x,{value:e.userName,"onUpdate:value":a[0]||(a[0]=n=>e.userName=n),placeholder:"请输入",size:"large","allow-clear":""},{prefix:d(()=>[r(v,{name:"UserOutlined",style:{color:"#1890ff","font-size":"14px"}})]),_:1},8,["value"])]),o("div",Q,[r(y,{type:"password",value:e.userPassword,"onUpdate:value":a[1]||(a[1]=n=>e.userPassword=n),size:"large",ref_key:"inputPassword",ref:t,onKeyup:a[2]||(a[2]=T(n=>_(),["enter"]))},{prefix:d(()=>[r(v,{name:"LockOutlined",style:{color:"#1890ff","font-size":"14px"}})]),_:1},8,["value"])]),o("div",R,[r(k,{type:"primary",onClick:a[3]||(a[3]=n=>_()),loading:i.value,size:"large",block:""},{default:d(()=>[U("登录")]),_:1},8,["loading"])])])])])])}}});const se=O(W,[["__scopeId","data-v-3f4c15b2"]]);export{se as default};
